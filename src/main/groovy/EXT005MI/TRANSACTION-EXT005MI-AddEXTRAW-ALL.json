{"programModules":{"EXT005MI":{"program":"EXT005MI","triggers":{},"transactions":{"AddEXTRAW":{"sourceUuid":"4161b96c-37dd-44f9-9df8-1e9104471e09","name":"AddEXTRAW","program":"EXT005MI","description":"Add record on table EXTRAW","active":true,"multi":false,"modified":1746026750729,"modifiedBy":"APAULDY","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"FACI","description":"Facility","length":3,"mandatory":true,"type":"A","refField":null},{"name":"MTNO","description":"Raw material item number","length":15,"mandatory":true,"type":"A","refField":null},{"name":"ITNO","description":"Previous level item","length":15,"mandatory":true,"type":"A","refField":null},{"name":"ITCL","description":"Product group","length":5,"mandatory":true,"type":"A","refField":null},{"name":"FDAT","description":"From date","length":8,"mandatory":true,"type":"N","refField":null},{"name":"TDAT","description":"To date","length":8,"mandatory":true,"type":"N","refField":null},{"name":"TRQT","description":"Transaction quantity - basic U/M","length":15,"mandatory":false,"type":"N","refField":null},{"name":"TAMT","description":"Amount","length":17,"mandatory":false,"type":"N","refField":null},{"name":"PCTG","description":"Percentage","length":5,"mandatory":false,"type":"N","refField":null}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"4161b96c-37dd-44f9-9df8-1e9104471e09":{"uuid":"4161b96c-37dd-44f9-9df8-1e9104471e09","updated":1756221818154,"updatedBy":"APAULDY","created":1742829147162,"createdBy":"APAULDY","apiVersion":"0.15","beVersion":"16.0.0.20250618165112.8","language":"GROOVY","codeHash":"BB780C75A5E9B8F804D0898E679747C8821D3051CB40B74823B4CC77CAC6A76F","code":"LyoqDQogKiBATmFtZTogRVhUMDA1TUkuQWRkRVhUUkFXDQogKiBARGVzY3JpcHRpb246IEFkZCByZWNvcmQgb24gdGFibGUgRVhUUkFXDQogKiBAQXV0aG9yczogQWppYW4gRHkNCiAqDQogKiBAQ0hBTkdFTE9HUw0KICogIFZlcnNpb24gICBEYXRlICAgICAgVXNlciAgICBEZXNjcmlwdGlvbg0KICogIDEuMC4wICAgICAyMDI1MDMyNCAgQURZICAgICBJbml0aWFsIFJlbGVhc2UNCiAqICAxLjAuMSAgICAgMjAyNTA4MjYgIEFEWSAgICAgQWRkZWQgSmF2YWRvYyBjb21tZW50cywgZml4ZWQgdmFyaWFibGUgbmFtZXMsIHJlbW92ZWQgU2ltcGxlRGF0ZUZvcm1hdA0KICoNCiAqLw0KDQppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7DQppbXBvcnQgamF2YS50aW1lLmZvcm1hdC5EYXRlVGltZUZvcm1hdHRlcjsNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlOw0KDQpwdWJsaWMgY2xhc3MgQWRkRVhUUkFXIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5Ow0KICBwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXI7DQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtOw0KICBwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyOw0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOw0KDQogIHByaXZhdGUgaW50IGluQ09OTywgaW5GREFULCBpblREQVQsIGluQ0hOTywgaW5SR0RULCBpblJHVE0sIGluTE1EVCwgaW5MTVRNOw0KICBwcml2YXRlIFN0cmluZyBpbkZBQ0ksIGluTVROTywgaW5JVE5PLCBpbklUQ0wsIGluQ0hJRDsNCiAgcHJpdmF0ZSBkb3VibGUgaW5UUlFULCBpblRBTVQsIGluUENURzsNCg0KICBwdWJsaWMgQWRkRVhUUkFXKE1JQVBJIG1pLCBVdGlsaXR5QVBJIHV0aWxpdHksIExvZ2dlckFQSSBsb2dnZXIsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIERhdGFiYXNlQVBJIGRhdGFiYXNlKSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHk7DQogICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7DQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsNCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXI7DQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOw0KICB9DQoNCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpbkNPTk8gPSBtaS5pbi5nZXQoIkNPTk8iKSA9PSBudWxsID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIGludCA6IG1pLmluLmdldCgiQ09OTyIpIGFzIGludDsNCiAgICBpbkZBQ0kgPSBtaS5pbkRhdGEuZ2V0KCJGQUNJIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiRkFDSSIpLnRyaW0oKSBhcyBTdHJpbmc7DQogICAgaW5NVE5PID0gbWkuaW5EYXRhLmdldCgiTVROTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1UTk8iKS50cmltKCkgYXMgU3RyaW5nOw0KICAgIGluSVROTyA9IG1pLmluRGF0YS5nZXQoIklUTk8iKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJJVE5PIikudHJpbSgpIGFzIFN0cmluZzsNCiAgICBpbklUQ0wgPSBtaS5pbkRhdGEuZ2V0KCJJVENMIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVRDTCIpLnRyaW0oKSBhcyBTdHJpbmc7DQogICAgaW5GREFUID0gbWkuaW5EYXRhLmdldCgiRkRBVCIpID09IG51bGwgPyAwIDogbWkuaW5EYXRhLmdldCgiRkRBVCIpLnRyaW0oKSBhcyBpbnQ7DQogICAgaW5UREFUID0gbWkuaW5EYXRhLmdldCgiVERBVCIpID09IG51bGwgPyAwIDogbWkuaW5EYXRhLmdldCgiVERBVCIpLnRyaW0oKSBhcyBpbnQ7DQogICAgaW5UUlFUID0gbWkuaW5EYXRhLmdldCgiVFJRVCIpID09IG51bGwgPyAwIDogbWkuaW5EYXRhLmdldCgiVFJRVCIpLnRyaW0oKSBhcyBkb3VibGU7DQogICAgaW5UQU1UID0gbWkuaW5EYXRhLmdldCgiVEFNVCIpID09IG51bGwgPyAwIDogbWkuaW5EYXRhLmdldCgiVEFNVCIpLnRyaW0oKSBhcyBkb3VibGU7DQogICAgaW5QQ1RHID0gbWkuaW5EYXRhLmdldCgiUENURyIpID09IG51bGwgPyAwIDogbWkuaW5EYXRhLmdldCgiUENURyIpLnRyaW0oKSBhcyBkb3VibGU7DQoNCiAgICBpZiAoIWlzVmFsaWRJbnB1dCgpKSB7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIA0KICAgIERCQWN0aW9uIHF1ZXJ5RVhUUkFXID0gZGF0YWJhc2UudGFibGUoIkVYVFJBVyIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyRVhUUkFXID0gcXVlcnlFWFRSQVcuZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyRVhUUkFXLnNldCgiRVhDT05PIiwgaW5DT05PKTsNCiAgICBjb250YWluZXJFWFRSQVcuc2V0KCJFWEZBQ0kiLCBpbkZBQ0kpOw0KICAgIGNvbnRhaW5lckVYVFJBVy5zZXQoIkVYTVROTyIsIGluTVROTyk7DQogICAgY29udGFpbmVyRVhUUkFXLnNldCgiRVhJVE5PIiwgaW5JVE5PKTsNCiAgICBjb250YWluZXJFWFRSQVcuc2V0KCJFWElUQ0wiLCBpbklUQ0wpOw0KICAgIGNvbnRhaW5lckVYVFJBVy5zZXQoIkVYRkRBVCIsIGluRkRBVCk7DQogICAgY29udGFpbmVyRVhUUkFXLnNldCgiRVhUREFUIiwgaW5UREFUKTsNCg0KICAgIGlmIChxdWVyeUVYVFJBVy5yZWFkKGNvbnRhaW5lckVYVFJBVykpIHsNCiAgICAgIG1pLmVycm9yKCJSZWNvcmQgYWxyZWFkeSBleGlzdHMiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBMb2NhbERhdGVUaW1lIGRhdGVUaW1lID0gTG9jYWxEYXRlVGltZS5ub3coKTsNCiAgICBpbnQgZW50cnlEYXRlID0gZGF0ZVRpbWUuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCk7DQogICAgaW50IGVudHJ5VGltZSA9IGRhdGVUaW1lLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKTsNCiAgICBpbkNISUQgPSBwcm9ncmFtLmdldFVzZXIoKTsNCiAgICBpbkNITk8gPSAxOw0KICAgIGluUkdEVCA9IGVudHJ5RGF0ZTsNCiAgICBpblJHVE0gPSBlbnRyeVRpbWU7DQogICAgaW5MTURUID0gZW50cnlEYXRlOw0KICAgIGluTE1UTSA9IGVudHJ5VGltZTsNCg0KICAgIGNvbnRhaW5lckVYVFJBVy5zZXQoIkVYVFJRVCIsIGluVFJRVCk7DQogICAgY29udGFpbmVyRVhUUkFXLnNldCgiRVhUQU1UIiwgaW5UQU1UKTsNCiAgICBjb250YWluZXJFWFRSQVcuc2V0KCJFWFBDVEciLCBpblBDVEcpOw0KICAgIGNvbnRhaW5lckVYVFJBVy5zZXQoIkVYRkRBVCIsIGluRkRBVCk7DQogICAgY29udGFpbmVyRVhUUkFXLnNldCgiRVhUREFUIiwgaW5UREFUKTsNCiAgICBjb250YWluZXJFWFRSQVcuc2V0KCJFWENISUQiLCBpbkNISUQpOw0KICAgIGNvbnRhaW5lckVYVFJBVy5zZXQoIkVYQ0hOTyIsIGluQ0hOTyk7DQogICAgY29udGFpbmVyRVhUUkFXLnNldCgiRVhSR0RUIiwgaW5SR0RUKTsNCiAgICBjb250YWluZXJFWFRSQVcuc2V0KCJFWFJHVE0iLCBpblJHVE0pOw0KICAgIGNvbnRhaW5lckVYVFJBVy5zZXQoIkVYTE1EVCIsIGluTE1EVCk7DQogICAgY29udGFpbmVyRVhUUkFXLnNldCgiRVhMTVRNIiwgaW5MTVRNKTsNCg0KICAgIHF1ZXJ5RVhUUkFXLmluc2VydChjb250YWluZXJFWFRSQVcpOw0KICB9DQoNCiAgLyoqDQogICAqIFZhbGlkYXRlIGlucHV0IGZpZWxkcw0KICAgKi8NCiAgYm9vbGVhbiBpc1ZhbGlkSW5wdXQoKSB7DQogICAgLy8gQ2hlY2sgRkRBVA0KICAgIGlmIChpbkZEQVQgIT0gMCkgew0KICAgICAgaWYgKCF1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImlzRGF0ZVZhbGlkIiwgaW5GREFULnRvU3RyaW5nKCksICJ5eXl5TU1kZCIpKSB7DQogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIERBVEUgaW5wdXQgZm9yIEZEQVQiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvLyBDaGVjayBUREFUDQogICAgaWYgKGluVERBVCAhPSAwKSB7DQogICAgICBpZiAoIXV0aWxpdHkuY2FsbCgiRGF0ZVV0aWwiLCAiaXNEYXRlVmFsaWQiLCBpblREQVQudG9TdHJpbmcoKSwgInl5eXlNTWRkIikpIHsNCiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgREFURSBpbnB1dCBmb3IgVERBVCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIENoZWNrIEZEQVQgYW5kIFREQVQNCiAgICBpZiAoaW5GREFUICE9IDAgJiYgaW5UREFUICE9IDApIHsNCiAgICAgIExvY2FsRGF0ZSBsZEZEQVQgPSBMb2NhbERhdGUucGFyc2UoaW5GREFULnRvU3RyaW5nKCksIERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSk7DQogICAgICBMb2NhbERhdGUgbGRUREFUID0gTG9jYWxEYXRlLnBhcnNlKGluVERBVC50b1N0cmluZygpLCBEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpOw0KICAgIA0KICAgICAgaWYobGRGREFULmlzQWZ0ZXIobGRUREFUKSkgew0KICAgICAgICBtaS5lcnJvcigiRnJvbSBkYXRlIGlzIGdyZWF0ZXIgdGhhbiBUbyBkYXRlIik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy8gQ2hlY2sgRkFDSQ0KICAgIGlmICghaW5GQUNJLmlzQmxhbmsoKSkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrRkFDSSgpKSB7DQogICAgICAgIG1pLmVycm9yKCJGYWNpbGl0eSAke2luRkFDSX0gZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvLyBDaGVjayBNVE5PDQogICAgaWYgKCFpbk1UTk8uaXNCbGFuaygpKSB7DQogICAgICBpZiAoIXRoaXMuY2hlY2tJVE5PKGluTVROTykpIHsNCiAgICAgICAgbWkuZXJyb3IoIkl0ZW0gbnVtYmVyICR7aW5NVE5PfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIENoZWNrIElUTk8NCiAgICBpZiAoIWluSVROTy5pc0JsYW5rKCkpIHsNCiAgICAgIGlmICghdGhpcy5jaGVja0lUTk8oaW5JVE5PKSkgew0KICAgICAgICBtaS5lcnJvcigiSXRlbSBudW1iZXIgJHtpbklUTk99IGRvZXMgbm90IGV4aXN0Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy8gQ2hlY2sgSVRDTA0KICAgIGlmICghaW5JVENMLmlzQmxhbmsoKSkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrSVRDTCgpKSB7DQogICAgICAgIG1pLmVycm9yKCJQcm9kdWN0IGdyb3VwICR7aW5JVENMfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIHJldHVybiB0cnVlOw0KICB9DQogIA0KICAvKioNCiAgICogVmFsaWRhdGUgRkFDSSBmcm9tIENGQUNJTA0KICAgKi8NCiAgYm9vbGVhbiBjaGVja0ZBQ0koKSB7DQogICAgREJBY3Rpb24gcXVlcnlDRkFDSUwgPSBkYXRhYmFzZS50YWJsZSgiQ0ZBQ0lMIikuaW5kZXgoIjAwIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXJDRkFDSUwgPSBxdWVyeUNGQUNJTC5nZXRDb250YWluZXIoKTsNCiAgICBjb250YWluZXJDRkFDSUwuc2V0KCJDRkNPTk8iLCBpbkNPTk8pOw0KICAgIGNvbnRhaW5lckNGQUNJTC5zZXQoIkNGRkFDSSIsIGluRkFDSSk7DQogIA0KICAgIGlmICghcXVlcnlDRkFDSUwucmVhZChjb250YWluZXJDRkFDSUwpKSB7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KICANCiAgLyoqDQogICAqIFZhbGlkYXRlIElUTk8gZnJvbSBNSVRNQVMNCiAgICovDQogIGJvb2xlYW4gY2hlY2tJVE5PKFN0cmluZyBpdG5vKSB7DQogICAgREJBY3Rpb24gcXVlcnlNSVRNQVMgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBjb250YWluZXJNSVRNQVMgPSBxdWVyeU1JVE1BUy5nZXRDb250YWluZXIoKTsNCiAgICBjb250YWluZXJNSVRNQVMuc2V0KCJNTUNPTk8iLCBpbkNPTk8pOw0KICAgIGNvbnRhaW5lck1JVE1BUy5zZXQoIk1NSVROTyIsIGl0bm8pOw0KICANCiAgICBpZiAoIXF1ZXJ5TUlUTUFTLnJlYWQoY29udGFpbmVyTUlUTUFTKSkgew0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiAgDQogIC8qKg0KICAgKiBWYWxpZGF0ZSBJVENMIGZyb20gQ1NZVEFCDQogICAqLw0KICBib29sZWFuIGNoZWNrSVRDTCgpIHsNCiAgICBEQkFjdGlvbiBxdWVyeUNTWVRBQiA9IGRhdGFiYXNlLnRhYmxlKCJDU1lUQUIiKS5pbmRleCgiMDAiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lckNTWVRBQiA9IHF1ZXJ5Q1NZVEFCLmdldENvbnRhaW5lcigpOw0KICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUQ09OTyIsIGluQ09OTyk7DQogICAgY29udGFpbmVyQ1NZVEFCLnNldCgiQ1RESVZJIiwgIiIpOw0KICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUU1RDTyIsICJJVENMIik7DQogICAgY29udGFpbmVyQ1NZVEFCLnNldCgiQ1RTVEtZIiwgaW5JVENMKTsNCiAgICBjb250YWluZXJDU1lUQUIuc2V0KCJDVExOQ0QiLCAiIik7DQogICAgDQogICAgaWYgKCFxdWVyeUNTWVRBQi5yZWFkKGNvbnRhaW5lckNTWVRBQikpIHsNCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQp9"}}}
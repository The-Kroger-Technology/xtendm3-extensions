{"programModules":{"EXT033MI":{"program":"EXT033MI","triggers":{},"transactions":{"AddEXTMUR":{"sourceUuid":"abf716ad-df2f-4562-9d01-78dd1e1bc40d","name":"AddEXTMUR","program":"EXT033MI","description":"Add record on table EXTMUR","active":true,"multi":false,"modified":1755177245493,"modifiedBy":"APAULDY","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A","refField":null},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A","refField":null},{"name":"DATE","description":"Date","length":8,"mandatory":true,"type":"N","refField":null},{"name":"MFNO","description":"Manufacturing order number","length":10,"mandatory":true,"type":"A","refField":null},{"name":"PRNO","description":"Product","length":15,"mandatory":true,"type":"A","refField":null},{"name":"MKCL","description":"Milk class","length":15,"mandatory":false,"type":"A","refField":null},{"name":"CMDT","description":"Commodity","length":3,"mandatory":false,"type":"A","refField":null},{"name":"SCMD","description":"Sub-commodity","length":10,"mandatory":false,"type":"A","refField":null},{"name":"MFQT","description":"Manufactured quantity","length":15,"mandatory":false,"type":"N","refField":null},{"name":"UNMS","description":"Basic unit of measure","length":3,"mandatory":false,"type":"A","refField":null},{"name":"AMQT","description":"Actual milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SMQT","description":"Std milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"ABQT","description":"Actual butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SBQT","description":"Std butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"AOMQ","description":"Actual organic milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SOMQ","description":"Std organic milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"AOBQ","description":"Actual organic butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SOBQ","description":"Std organic butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"ANFQ","description":"Actual non-fat fry milk qty","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SNFQ","description":"Std non-fat dry milk qty","length":15,"mandatory":false,"type":"N","refField":null}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"abf716ad-df2f-4562-9d01-78dd1e1bc40d":{"uuid":"abf716ad-df2f-4562-9d01-78dd1e1bc40d","updated":1756222344742,"updatedBy":"APAULDY","created":1753202124642,"createdBy":"APAULDY","apiVersion":"0.21","beVersion":"16.0.0.20250618165112.8","language":"GROOVY","codeHash":"CEB1400D983A06E56E4C0D98B176CCA150DBB01883F57EBBD557FD83B8DDADB0","code":"LyoqDQogKiBATmFtZTogQWRkRVhUTVVSLkVYVE1VUg0KICogQERlc2NyaXB0aW9uOiBBZGQgcmVjb3JkIG9uIHRhYmxlIEVYVE1VUg0KICogQEF1dGhvcnM6IEFqaWFuIER5DQogKg0KICogQENIQU5HRUxPR1MNCiAqICBWZXJzaW9uICAgRGF0ZSAgICAgIFVzZXIgICAgRGVzY3JpcHRpb24NCiAqICAxLjAuMCAgICAgMjAyNTA3MjMgIEFEWSAgICAgSW5pdGlhbCBSZWxlYXNlDQogKiAgMS4wLjEgICAgIDIwMjUwODE0ICBBRFkgICAgIEFkZGVkIGlucHV0cyBBTkZRLCBTTkZRDQogKiAgMS4wLjIgICAgIDIwMjUwODI2ICBBRFkgICAgIEFkZGVkIEphdmFkb2MgY29tbWVudHMsIGZpeGVkIHZhcmlhYmxlIG5hbWVzLCBzZXQgbmJyT2ZLZXlzIHRvIDENCiAqDQogKi8NCg0KaW1wb3J0IGphdmEudGltZS5Mb2NhbERhdGVUaW1lOw0KaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7DQoNCnB1YmxpYyBjbGFzcyBBZGRFWFRNVVIgZXh0ZW5kcyBFeHRlbmRNM1RyYW5zYWN0aW9uIHsNCiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsNCiAgcHJpdmF0ZSBmaW5hbCBVdGlsaXR5QVBJIHV0aWxpdHk7DQogIHByaXZhdGUgZmluYWwgTG9nZ2VyQVBJIGxvZ2dlcjsNCiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07DQogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7DQogIHByaXZhdGUgZmluYWwgRGF0YWJhc2VBUEkgZGF0YWJhc2U7DQoNCiAgcHJpdmF0ZSBpbnQgaW5DT05PLCBpbkRBVEUsIGluQ0hOTywgaW5SR0RULCBpblJHVE0sIGluTE1EVCwgaW5MTVRNOw0KICBwcml2YXRlIFN0cmluZyBpbkRJVkksIGluV0hMTywgaW5NRk5PLCBpblBSTk8sIGluTUtDTCwgaW5DTURULCBpblNDTUQsIGluVU5NUywgaW5DSElEOw0KICBwcml2YXRlIGRvdWJsZSBpbk1GUVQsIGluQU1RVCwgaW5TTVFULCBpbkFCUVQsIGluU0JRVCwgaW5BT01RLCBpblNPTVEsIGluQU9CUSwgaW5TT0JRLCBpbkFORlEsIGluU05GUTsNCg0KICBwdWJsaWMgQWRkRVhUTVVSKE1JQVBJIG1pLCBVdGlsaXR5QVBJIHV0aWxpdHksIExvZ2dlckFQSSBsb2dnZXIsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIERhdGFiYXNlQVBJIGRhdGFiYXNlKSB7DQogICAgdGhpcy5taSA9IG1pOw0KICAgIHRoaXMudXRpbGl0eSA9IHV0aWxpdHk7DQogICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7DQogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsNCiAgICB0aGlzLm1pQ2FsbGVyID0gbWlDYWxsZXI7DQogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOw0KICB9DQoNCiAgcHVibGljIHZvaWQgbWFpbigpIHsNCiAgICBpbkNPTk8gPSBtaS5pbi5nZXQoIkNPTk8iKSA9PSBudWxsID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIGludCA6IG1pLmluLmdldCgiQ09OTyIpIGFzIGludDsNCiAgICBpbkRJVkkgPSBtaS5pbkRhdGEuZ2V0KCJESVZJIikgPT0gbnVsbCA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBTdHJpbmcgOiBtaS5pbkRhdGEuZ2V0KCJESVZJIikudHJpbSgpIGFzIFN0cmluZzsNCiAgICBpbldITE8gPSBtaS5pbkRhdGEuZ2V0KCJXSExPIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiV0hMTyIpLnRyaW0oKSBhcyBTdHJpbmc7DQogICAgaW5EQVRFID0gbWkuaW4uZ2V0KCJEQVRFIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIkRBVEUiKSBhcyBpbnQ7DQogICAgaW5NRk5PID0gbWkuaW5EYXRhLmdldCgiTUZOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1GTk8iKS50cmltKCkgYXMgU3RyaW5nOw0KICAgIGluUFJOTyA9IG1pLmluRGF0YS5nZXQoIlBSTk8iKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJQUk5PIikudHJpbSgpIGFzIFN0cmluZzsNCiAgICBpbk1LQ0wgPSBtaS5pbkRhdGEuZ2V0KCJNS0NMIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiTUtDTCIpLnRyaW0oKSBhcyBTdHJpbmc7DQogICAgaW5DTURUID0gbWkuaW5EYXRhLmdldCgiQ01EVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNNRFQiKS50cmltKCkgYXMgU3RyaW5nOw0KICAgIGluU0NNRCA9IG1pLmluRGF0YS5nZXQoIlNDTUQiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTQ01EIikudHJpbSgpIGFzIFN0cmluZzsNCiAgICBpbk1GUVQgPSBtaS5pbi5nZXQoIk1GUVQiKSA9PSBudWxsID8gMCA6IG1pLmluLmdldCgiTUZRVCIpIGFzIGRvdWJsZTsNCiAgICBpblVOTVMgPSBtaS5pbkRhdGEuZ2V0KCJVTk1TIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiVU5NUyIpLnRyaW0oKSBhcyBTdHJpbmc7DQogICAgaW5BTVFUID0gbWkuaW4uZ2V0KCJBTVFUIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIkFNUVQiKSBhcyBkb3VibGU7DQogICAgaW5TTVFUID0gbWkuaW4uZ2V0KCJTTVFUIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIlNNUVQiKSBhcyBkb3VibGU7DQogICAgaW5BQlFUID0gbWkuaW4uZ2V0KCJBQlFUIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIkFCUVQiKSBhcyBkb3VibGU7DQogICAgaW5TQlFUID0gbWkuaW4uZ2V0KCJTQlFUIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIlNCUVQiKSBhcyBkb3VibGU7DQogICAgaW5BT01RID0gbWkuaW4uZ2V0KCJBT01RIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIkFPTVEiKSBhcyBkb3VibGU7DQogICAgaW5TT01RID0gbWkuaW4uZ2V0KCJTT01RIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIlNPTVEiKSBhcyBkb3VibGU7DQogICAgaW5BT0JRID0gbWkuaW4uZ2V0KCJBT0JRIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIkFPQlEiKSBhcyBkb3VibGU7DQogICAgaW5TT0JRID0gbWkuaW4uZ2V0KCJTT0JRIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIlNPQlEiKSBhcyBkb3VibGU7DQogICAgaW5BTkZRID0gbWkuaW4uZ2V0KCJBTkZRIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIkFORlEiKSBhcyBkb3VibGU7DQogICAgaW5TTkZRID0gbWkuaW4uZ2V0KCJTTkZRIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIlNORlEiKSBhcyBkb3VibGU7DQoNCiAgICBpZiAoIWlzVmFsaWRJbnB1dCgpKSB7DQogICAgICByZXR1cm47DQogICAgfQ0KICAgIA0KICAgIERCQWN0aW9uIHF1ZXJ5RVhUTVVSID0gZGF0YWJhc2UudGFibGUoIkVYVE1VUiIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyRVhUTVVSID0gcXVlcnlFWFRNVVIuZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhDT05PIiwgaW5DT05PKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWERJVkkiLCBpbkRJVkkpOw0KICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYV0hMTyIsIGluV0hMTyk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhEQVRFIiwgaW5EQVRFIGFzIGludCk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhNRk5PIiwgaW5NRk5PKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWFBSTk8iLCBpblBSTk8pOw0KDQogICAgaWYgKHF1ZXJ5RVhUTVVSLnJlYWQoY29udGFpbmVyRVhUTVVSKSkgew0KICAgICAgbWkuZXJyb3IoIlJlY29yZCBhbHJlYWR5IGV4aXN0cyIpOw0KICAgICAgcmV0dXJuOw0KICAgIH0NCg0KICAgIExvY2FsRGF0ZVRpbWUgZGF0ZVRpbWUgPSBMb2NhbERhdGVUaW1lLm5vdygpOw0KICAgIGludCBlbnRyeURhdGUgPSBkYXRlVGltZS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKTsNCiAgICBpbnQgZW50cnlUaW1lID0gZGF0ZVRpbWUuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigiSEhtbXNzIikpLnRvSW50ZWdlcigpOw0KICAgIGluQ0hJRCA9IHByb2dyYW0uZ2V0VXNlcigpOw0KICAgIGluQ0hOTyA9IDE7DQogICAgaW5SR0RUID0gZW50cnlEYXRlOw0KICAgIGluUkdUTSA9IGVudHJ5VGltZTsNCiAgICBpbkxNRFQgPSBlbnRyeURhdGU7DQogICAgaW5MTVRNID0gZW50cnlUaW1lOw0KDQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhNS0NMIiwgaW5NS0NMKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWENNRFQiLCBpbkNNRFQpOw0KICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYU0NNRCIsIGluU0NNRCk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhNRlFUIiwgaW5NRlFUKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWFVOTVMiLCBpblVOTVMpOw0KICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYQU1RVCIsIGluQU1RVCk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhTTVFUIiwgaW5TTVFUKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWEFCUVQiLCBpbkFCUVQpOw0KICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYU0JRVCIsIGluU0JRVCk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhBT01RIiwgaW5BT01RKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWFNPTVEiLCBpblNPTVEpOw0KICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYQU9CUSIsIGluQU9CUSk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhTT0JRIiwgaW5TT0JRKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWEFORlEiLCBpbkFORlEpOw0KICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYU05GUSIsIGluU05GUSk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhDSElEIiwgaW5DSElEKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWENITk8iLCBpbkNITk8pOw0KICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYUkdEVCIsIGluUkdEVCk7DQogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhSR1RNIiwgaW5SR1RNKTsNCiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWExNRFQiLCBpbkxNRFQpOw0KICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYTE1UTSIsIGluTE1UTSk7DQoNCiAgICBxdWVyeUVYVE1VUi5pbnNlcnQoY29udGFpbmVyRVhUTVVSKTsNCiAgfQ0KDQogIC8qKg0KICAgKiBWYWxpZGF0ZSBpbnB1dCBmaWVsZHMNCiAgICovDQogIGJvb2xlYW4gaXNWYWxpZElucHV0KCkgew0KICAgIC8vIENoZWNrIFdITE8NCiAgICBpZiAoIWluV0hMTy5pc0JsYW5rKCkpIHsNCiAgICAgIGlmICghdGhpcy5jaGVja1dITE8oKSkgew0KICAgICAgICBtaS5lcnJvcigiV2FyZWhvdXNlICR7aW5XSExPfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIENoZWNrIERBVEUNCiAgICBpZiAoaW5EQVRFICE9IDApIHsNCiAgICAgIGlmICghdXRpbGl0eS5jYWxsKCJEYXRlVXRpbCIsICJpc0RhdGVWYWxpZCIsIGluREFURS50b1N0cmluZygpLCAieXl5eU1NZGQiKSkgew0KICAgICAgICBtaS5lcnJvcigiSW52YWxpZCBEQVRFIGlucHV0IGZvciBEQVRFIik7DQogICAgICAgIHJldHVybjsNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy8gQ2hlY2sgUFJOTw0KICAgIGlmICghaW5QUk5PLmlzQmxhbmsoKSkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrUFJOTygpKSB7DQogICAgICAgIG1pLmVycm9yKCJQcm9kdWN0ICR7aW5QUk5PfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIENoZWNrIE1GTk8NCiAgICBpZiAoIWluTUZOTy5pc0JsYW5rKCkpIHsNCiAgICAgIGlmICghdGhpcy5jaGVja01GTk8oKSkgew0KICAgICAgICBtaS5lcnJvcigiTWFudWZhY3R1cmluZyBvcmRlciBudW1iZXIgJHtpbk1GTk99IGRvZXMgbm90IGV4aXN0Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy8gQ2hlY2sgTUtDTA0KICAgIGlmICghaW5NS0NMLmlzQmxhbmsoKSkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrTUtDTCgpKSB7DQogICAgICAgIG1pLmVycm9yKCJNaWxrIGNsYXNzICR7aW5NS0NMfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIENoZWNrIENNRFQNCiAgICBpZiAoIWluQ01EVC5pc0JsYW5rKCkpIHsNCiAgICAgIGlmICghdGhpcy5jaGVja0NTWVRBQigiQ0ZJMyIsIGluQ01EVCkpIHsNCiAgICAgICAgbWkuZXJyb3IoIkNvbW1vZGl0eSAke2luQ01EVH0gZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvLyBDaGVjayBTQ01EDQogICAgaWYgKCFpblNDTUQuaXNCbGFuaygpKSB7DQogICAgICBpZiAoIXRoaXMuY2hlY2tDU1lUQUIoIkNGSTEiLCBpblNDTUQpKSB7DQogICAgICAgIG1pLmVycm9yKCJTdWItY29tbW9kaXR5ICR7aW5TQ01EfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIENoZWNrIFVOTVMNCiAgICBpZiAoIWluVU5NUy5pc0JsYW5rKCkpIHsNCiAgICAgIGlmICghdGhpcy5jaGVja0NTWVRBQigiVU5JVCIsIGluVU5NUykpIHsNCiAgICAgICAgbWkuZXJyb3IoIkJhc2ljIHVuaXQgb2YgbWVhc3VyZSAke2luVU5NU30gZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICByZXR1cm4gdHJ1ZTsNCiAgfQ0KICANCiAgLyoqDQogICAqIFZhbGlkYXRlIFdITE8gZnJvbSBNSVRXSEwNCiAgICovDQogIGJvb2xlYW4gY2hlY2tXSExPKCkgew0KICAgIERCQWN0aW9uIHF1ZXJ5TUlUV0hMID0gZGF0YWJhc2UudGFibGUoIk1JVFdITCIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyTUlUV0hMID0gcXVlcnlNSVRXSEwuZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyTUlUV0hMLnNldCgiTVdDT05PIiwgaW5DT05PKTsNCiAgICBjb250YWluZXJNSVRXSEwuc2V0KCJNV1dITE8iLCBpbldITE8pOw0KICANCiAgICBpZiAoIXF1ZXJ5TUlUV0hMLnJlYWQoY29udGFpbmVyTUlUV0hMKSkgew0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiAgDQogIC8qKg0KICAgKiBWYWxpZGF0ZSBQUk5PIGZyb20gTUlUTUFTDQogICAqLw0KICBib29sZWFuIGNoZWNrUFJOTygpIHsNCiAgICBEQkFjdGlvbiBxdWVyeU1JVE1BUyA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1JVE1BUyA9IHF1ZXJ5TUlUTUFTLmdldENvbnRhaW5lcigpOw0KICAgIGNvbnRhaW5lck1JVE1BUy5zZXQoIk1NQ09OTyIsIGluQ09OTyk7DQogICAgY29udGFpbmVyTUlUTUFTLnNldCgiTU1JVE5PIiwgaW5QUk5PKTsNCiAgDQogICAgaWYgKCFxdWVyeU1JVE1BUy5yZWFkKGNvbnRhaW5lck1JVE1BUykpIHsNCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQogIA0KICAvKioNCiAgICogVmFsaWRhdGUgTUZOTyBmcm9tIE1XT0hFRA0KICAgKi8NCiAgYm9vbGVhbiBjaGVja01GTk8oKSB7DQogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwTVdPSEVEID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1XT0hFRCIpOw0KICAgIGV4cE1XT0hFRCA9IGV4cE1XT0hFRC5lcSgiVkhNRk5PIiwgaW5NRk5PKTsNCiAgICANCiAgICBEQkFjdGlvbiBxdWVyeU1XT0hFRCA9IGRhdGFiYXNlLnRhYmxlKCJNV09IRUQiKS5pbmRleCgiMDAiKS5tYXRjaGluZyhleHBNV09IRUQpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgY29udGFpbmVyTVdPSEVEID0gcXVlcnlNV09IRUQuZ2V0Q29udGFpbmVyKCk7DQogICAgY29udGFpbmVyTVdPSEVELnNldCgiVkhDT05PIiwgaW5DT05PKTsNCiAgICANCiAgICBpZiAocXVlcnlNV09IRUQucmVhZEFsbChjb250YWluZXJNV09IRUQsIDEsIDEsIHt9KSA8PSAwKSB7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KICANCiAgLyoqDQogICAqIFZhbGlkYXRlIE1LQ0wgZnJvbSBNQVREQU0NCiAgICovDQogIGJvb2xlYW4gY2hlY2tNS0NMKCkgew0KICAgIEV4cHJlc3Npb25GYWN0b3J5IGV4cE1BVERBTSA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNQVREQU0iKTsNCiAgICBleHBNQVREQU0gPSBleHBNQVREQU0uZXEoIkFLREVWQSIsIGluTUtDTCk7DQogICAgDQogICAgREJBY3Rpb24gcXVlcnlNQVREQU0gPSBkYXRhYmFzZS50YWJsZSgiTUFUREFNIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoZXhwTUFUREFNKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lck1BVERBTSA9IHF1ZXJ5TUFUREFNLmdldENvbnRhaW5lcigpOw0KICAgIGNvbnRhaW5lck1BVERBTS5zZXQoIkFLQ09OTyIsIGluQ09OTyk7DQogICAgDQogICAgaWYgKHF1ZXJ5TUFUREFNLnJlYWRBbGwoY29udGFpbmVyTUFUREFNLCAxLCAxLCB7fSkgPD0gMCkgew0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiAgDQogIC8qKg0KICAgKiBWYWxpZGF0ZSBmcm9tIENTWVRBQg0KICAgKi8NCiAgYm9vbGVhbiBjaGVja0NTWVRBQihTdHJpbmcgc3RjbywgU3RyaW5nIHN0a3kpIHsNCiAgICBEQkFjdGlvbiBxdWVyeUNTWVRBQiA9IGRhdGFiYXNlLnRhYmxlKCJDU1lUQUIiKS5pbmRleCgiMDAiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIGNvbnRhaW5lckNTWVRBQiA9IHF1ZXJ5Q1NZVEFCLmdldENvbnRhaW5lcigpOw0KICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUQ09OTyIsIGluQ09OTyk7DQogICAgY29udGFpbmVyQ1NZVEFCLnNldCgiQ1RESVZJIiwgIiIpOw0KICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUU1RDTyIsIHN0Y28pOw0KICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUU1RLWSIsIHN0a3kpOw0KICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUTE5DRCIsICIiKTsNCiAgICANCiAgICBpZiAoIXF1ZXJ5Q1NZVEFCLnJlYWQoY29udGFpbmVyQ1NZVEFCKSkgew0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCg0KfQ=="}}}
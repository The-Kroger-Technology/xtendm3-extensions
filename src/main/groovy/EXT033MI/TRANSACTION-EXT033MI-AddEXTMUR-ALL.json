{"programModules":{"EXT033MI":{"program":"EXT033MI","triggers":{},"transactions":{"AddEXTMUR":{"sourceUuid":"abf716ad-df2f-4562-9d01-78dd1e1bc40d","name":"AddEXTMUR","program":"EXT033MI","description":"Add record on table EXTMUR","active":true,"multi":false,"modified":1753280726764,"modifiedBy":"APAULDY","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A","refField":null},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A","refField":null},{"name":"DATE","description":"Date","length":8,"mandatory":true,"type":"N","refField":null},{"name":"MFNO","description":"Manufacturing order number","length":10,"mandatory":true,"type":"A","refField":null},{"name":"PRNO","description":"Product","length":15,"mandatory":true,"type":"A","refField":null},{"name":"MKCL","description":"Milk class","length":15,"mandatory":false,"type":"A","refField":null},{"name":"CMDT","description":"Commodity","length":3,"mandatory":false,"type":"A","refField":null},{"name":"SCMD","description":"Sub-commodity","length":10,"mandatory":false,"type":"A","refField":null},{"name":"MFQT","description":"Manufactured quantity","length":15,"mandatory":false,"type":"N","refField":null},{"name":"UNMS","description":"Basic unit of measure","length":3,"mandatory":false,"type":"A","refField":null},{"name":"AMQT","description":"Actual milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SMQT","description":"Std milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"ABQT","description":"Actual butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SBQT","description":"Std butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"AOMQ","description":"Actual organic milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SOMQ","description":"Std organic milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"AOBQ","description":"Actual organic butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SOBQ","description":"Std organic butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"abf716ad-df2f-4562-9d01-78dd1e1bc40d":{"uuid":"abf716ad-df2f-4562-9d01-78dd1e1bc40d","updated":1754577854584,"updatedBy":"APAULDY","created":1753202124642,"createdBy":"APAULDY","apiVersion":"0.21","beVersion":"16.0.0.20250521011729.8","language":"GROOVY","codeHash":"AEAA4128AB1E7690421534E4AA83DDF5575700DFC57BDC38A768DC8F9C80F2FE","code":"LyoqDQogKiBATmFtZTogQWRkRVhUTVVSLkVYVE1VUg0KICogQERlc2NyaXB0aW9uOiBBZGQgcmVjb3JkIG9uIHRhYmxlIEVYVE1VUg0KICogQEF1dGhvcnM6IEFqaWFuIER5DQogKg0KICogQENIQU5HRUxPR1MNCiAqICBWZXJzaW9uICAgRGF0ZSAgICAgVXNlciAgICAgRGVzY3JpcHRpb24NCiAqICAxLjAuMCAgICAgMjAyNTA3MjMgQURZICAgICAgSW5pdGlhbCBSZWxlYXNlDQogKg0KICovDQoNCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTsNCmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOw0KDQpwdWJsaWMgY2xhc3MgQWRkRVhUTVVSIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7DQogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7DQogIHByaXZhdGUgZmluYWwgVXRpbGl0eUFQSSB1dGlsaXR5Ow0KICBwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXI7DQogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtOw0KICBwcml2YXRlIGZpbmFsIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyOw0KICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOw0KDQogIHByaXZhdGUgaW50IGluQ09OTywgaW5EQVRFLCBpbkNITk8sIGluUkdEVCwgaW5SR1RNLCBpbkxNRFQsIGluTE1UTSwgcGFnZVNpemU7DQogIHByaXZhdGUgU3RyaW5nIGluRElWSSwgaW5XSExPLCBpbk1GTk8sIGluUFJOTywgaW5NS0NMLCBpbkNNRFQsIGluU0NNRCwgaW5VTk1TLCBpbkNISUQ7DQogIHByaXZhdGUgZG91YmxlIGluTUZRVCwgaW5BTVFULCBpblNNUVQsIGluQUJRVCwgaW5TQlFULCBpbkFPTVEsIGluU09NUSwgaW5BT0JRLCBpblNPQlE7DQoNCiAgcHVibGljIEFkZEVYVE1VUihNSUFQSSBtaSwgVXRpbGl0eUFQSSB1dGlsaXR5LCBMb2dnZXJBUEkgbG9nZ2VyLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSkgew0KICAgIHRoaXMubWkgPSBtaTsNCiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5Ow0KICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyOw0KICAgIHRoaXMucHJvZ3JhbSA9IHByb2dyYW07DQogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOw0KICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsNCiAgfQ0KDQogIHB1YmxpYyB2b2lkIG1haW4oKSB7DQogICAgaW5DT05PID0gbWkuaW4uZ2V0KCJDT05PIikgPT0gbnVsbCA/IHByb2dyYW0uTERBWkQuQ09OTyBhcyBpbnQgOiBtaS5pbi5nZXQoIkNPTk8iKSBhcyBpbnQ7DQogICAgaW5ESVZJID0gbWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgU3RyaW5nIDogbWkuaW5EYXRhLmdldCgiRElWSSIpLnRyaW0oKSBhcyBTdHJpbmc7DQogICAgaW5XSExPID0gbWkuaW5EYXRhLmdldCgiV0hMTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKS50cmltKCkgYXMgU3RyaW5nOw0KICAgIGluREFURSA9IG1pLmluLmdldCgiREFURSIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJEQVRFIikgYXMgaW50Ow0KICAgIGluTUZOTyA9IG1pLmluRGF0YS5nZXQoIk1GTk8iKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJNRk5PIikudHJpbSgpIGFzIFN0cmluZzsNCiAgICBpblBSTk8gPSBtaS5pbkRhdGEuZ2V0KCJQUk5PIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiUFJOTyIpLnRyaW0oKSBhcyBTdHJpbmc7DQogICAgaW5NS0NMID0gbWkuaW5EYXRhLmdldCgiTUtDTCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1LQ0wiKS50cmltKCkgYXMgU3RyaW5nOw0KICAgIGluQ01EVCA9IG1pLmluRGF0YS5nZXQoIkNNRFQiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDTURUIikudHJpbSgpIGFzIFN0cmluZzsNCiAgICBpblNDTUQgPSBtaS5pbkRhdGEuZ2V0KCJTQ01EIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiU0NNRCIpLnRyaW0oKSBhcyBTdHJpbmc7DQogICAgaW5NRlFUID0gbWkuaW4uZ2V0KCJNRlFUIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIk1GUVQiKSBhcyBkb3VibGU7DQogICAgaW5VTk1TID0gbWkuaW5EYXRhLmdldCgiVU5NUyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVOTVMiKS50cmltKCkgYXMgU3RyaW5nOw0KICAgIGluQU1RVCA9IG1pLmluLmdldCgiQU1RVCIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJBTVFUIikgYXMgZG91YmxlOw0KICAgIGluU01RVCA9IG1pLmluLmdldCgiU01RVCIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJTTVFUIikgYXMgZG91YmxlOw0KICAgIGluQUJRVCA9IG1pLmluLmdldCgiQUJRVCIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJBQlFUIikgYXMgZG91YmxlOw0KICAgIGluU0JRVCA9IG1pLmluLmdldCgiU0JRVCIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJTQlFUIikgYXMgZG91YmxlOw0KICAgIGluQU9NUSA9IG1pLmluLmdldCgiQU9NUSIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJBT01RIikgYXMgZG91YmxlOw0KICAgIGluU09NUSA9IG1pLmluLmdldCgiU09NUSIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJTT01RIikgYXMgZG91YmxlOw0KICAgIGluQU9CUSA9IG1pLmluLmdldCgiQU9CUSIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJBT0JRIikgYXMgZG91YmxlOw0KICAgIGluU09CUSA9IG1pLmluLmdldCgiU09CUSIpID09IG51bGwgPyAwIDogbWkuaW4uZ2V0KCJTT0JRIikgYXMgZG91YmxlOw0KICAgIHBhZ2VTaXplID0gbWkuZ2V0TWF4UmVjb3JkcygpIDw9IDAgfHwgbWkuZ2V0TWF4UmVjb3JkcygpID49IDEwMDAwPyAxMDAwMDogbWkuZ2V0TWF4UmVjb3JkcygpOw0KDQogICAgaWYgKCFpc1ZhbGlkSW5wdXQoKSkgew0KICAgICAgcmV0dXJuOw0KICAgIH0NCiAgICANCiAgICBEQkFjdGlvbiBFWFRNVVJfcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiRVhUTVVSIikuaW5kZXgoIjAwIikuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBFWFRNVVIgPSBFWFRNVVJfcXVlcnkuZ2V0Q29udGFpbmVyKCk7DQogICAgRVhUTVVSLnNldCgiRVhDT05PIiwgaW5DT05PKTsNCiAgICBFWFRNVVIuc2V0KCJFWERJVkkiLCBpbkRJVkkpOw0KICAgIEVYVE1VUi5zZXQoIkVYV0hMTyIsIGluV0hMTyk7DQogICAgRVhUTVVSLnNldCgiRVhEQVRFIiwgaW5EQVRFIGFzIGludCk7DQogICAgRVhUTVVSLnNldCgiRVhNRk5PIiwgaW5NRk5PKTsNCiAgICBFWFRNVVIuc2V0KCJFWFBSTk8iLCBpblBSTk8pOw0KDQogICAgaWYgKEVYVE1VUl9xdWVyeS5yZWFkKEVYVE1VUikpIHsNCiAgICAgIG1pLmVycm9yKCJSZWNvcmQgYWxyZWFkeSBleGlzdHMiKTsNCiAgICAgIHJldHVybjsNCiAgICB9DQoNCiAgICBMb2NhbERhdGVUaW1lIGRhdGVUaW1lID0gTG9jYWxEYXRlVGltZS5ub3coKTsNCiAgICBpbnQgZW50cnlEYXRlID0gZGF0ZVRpbWUuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCk7DQogICAgaW50IGVudHJ5VGltZSA9IGRhdGVUaW1lLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKTsNCiAgICBpbkNISUQgPSBwcm9ncmFtLmdldFVzZXIoKTsNCiAgICBpbkNITk8gPSAxOw0KICAgIGluUkdEVCA9IGVudHJ5RGF0ZTsNCiAgICBpblJHVE0gPSBlbnRyeVRpbWU7DQogICAgaW5MTURUID0gZW50cnlEYXRlOw0KICAgIGluTE1UTSA9IGVudHJ5VGltZTsNCg0KICAgIEVYVE1VUi5zZXQoIkVYTUtDTCIsIGluTUtDTCk7DQogICAgRVhUTVVSLnNldCgiRVhDTURUIiwgaW5DTURUKTsNCiAgICBFWFRNVVIuc2V0KCJFWFNDTUQiLCBpblNDTUQpOw0KICAgIEVYVE1VUi5zZXQoIkVYTUZRVCIsIGluTUZRVCk7DQogICAgRVhUTVVSLnNldCgiRVhVTk1TIiwgaW5VTk1TKTsNCiAgICBFWFRNVVIuc2V0KCJFWEFNUVQiLCBpbkFNUVQpOw0KICAgIEVYVE1VUi5zZXQoIkVYU01RVCIsIGluU01RVCk7DQogICAgRVhUTVVSLnNldCgiRVhBQlFUIiwgaW5BQlFUKTsNCiAgICBFWFRNVVIuc2V0KCJFWFNCUVQiLCBpblNCUVQpOw0KICAgIEVYVE1VUi5zZXQoIkVYQU9NUSIsIGluQU9NUSk7DQogICAgRVhUTVVSLnNldCgiRVhTT01RIiwgaW5TT01RKTsNCiAgICBFWFRNVVIuc2V0KCJFWEFPQlEiLCBpbkFPQlEpOw0KICAgIEVYVE1VUi5zZXQoIkVYU09CUSIsIGluU09CUSk7DQogICAgRVhUTVVSLnNldCgiRVhDSElEIiwgaW5DSElEKTsNCiAgICBFWFRNVVIuc2V0KCJFWENITk8iLCBpbkNITk8pOw0KICAgIEVYVE1VUi5zZXQoIkVYUkdEVCIsIGluUkdEVCk7DQogICAgRVhUTVVSLnNldCgiRVhSR1RNIiwgaW5SR1RNKTsNCiAgICBFWFRNVVIuc2V0KCJFWExNRFQiLCBpbkxNRFQpOw0KICAgIEVYVE1VUi5zZXQoIkVYTE1UTSIsIGluTE1UTSk7DQoNCiAgICBFWFRNVVJfcXVlcnkuaW5zZXJ0KEVYVE1VUik7DQogIH0NCg0KICBib29sZWFuIGlzVmFsaWRJbnB1dCgpIHsNCiAgICAvLyBDaGVjayBXSExPDQogICAgaWYgKCFpbldITE8uaXNCbGFuaygpKSB7DQogICAgICBpZiAoIXRoaXMuY2hlY2tXSExPKCkpIHsNCiAgICAgICAgbWkuZXJyb3IoIldhcmVob3VzZSAke2luV0hMT30gZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvLyBDaGVjayBEQVRFDQogICAgaWYgKCFpbkRBVEUgIT0gMCkgew0KICAgICAgaWYgKCF1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImlzRGF0ZVZhbGlkIiwgaW5EQVRFLnRvU3RyaW5nKCksICJ5eXl5TU1kZCIpKSB7DQogICAgICAgIG1pLmVycm9yKCJJbnZhbGlkIERBVEUgaW5wdXQgZm9yIERBVEUiKTsNCiAgICAgICAgcmV0dXJuOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvLyBDaGVjayBQUk5PDQogICAgaWYgKCFpblBSTk8uaXNCbGFuaygpKSB7DQogICAgICBpZiAoIXRoaXMuY2hlY2tQUk5PKCkpIHsNCiAgICAgICAgbWkuZXJyb3IoIlByb2R1Y3QgJHtpblBSTk99IGRvZXMgbm90IGV4aXN0Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy8gQ2hlY2sgTUZOTw0KICAgIGlmICghaW5NRk5PLmlzQmxhbmsoKSkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrTUZOTygpKSB7DQogICAgICAgIG1pLmVycm9yKCJNYW51ZmFjdHVyaW5nIG9yZGVyIG51bWJlciAke2luTUZOT30gZG9lcyBub3QgZXhpc3QiKTsNCiAgICAgICAgcmV0dXJuIGZhbHNlOw0KICAgICAgfQ0KICAgIH0NCiAgICANCiAgICAvLyBDaGVjayBNS0NMDQogICAgaWYgKCFpbk1LQ0wuaXNCbGFuaygpKSB7DQogICAgICBpZiAoIXRoaXMuY2hlY2tNS0NMKCkpIHsNCiAgICAgICAgbWkuZXJyb3IoIk1pbGsgY2xhc3MgJHtpbk1LQ0x9IGRvZXMgbm90IGV4aXN0Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy8gQ2hlY2sgQ01EVA0KICAgIGlmICghaW5DTURULmlzQmxhbmsoKSkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrQ1NZVEFCKCJDRkkzIiwgaW5DTURUKSkgew0KICAgICAgICBtaS5lcnJvcigiQ29tbW9kaXR5ICR7aW5DTURUfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIC8vIENoZWNrIFNDTUQNCiAgICBpZiAoIWluU0NNRC5pc0JsYW5rKCkpIHsNCiAgICAgIGlmICghdGhpcy5jaGVja0NTWVRBQigiQ0ZJMSIsIGluU0NNRCkpIHsNCiAgICAgICAgbWkuZXJyb3IoIlN1Yi1jb21tb2RpdHkgJHtpblNDTUR9IGRvZXMgbm90IGV4aXN0Iik7DQogICAgICAgIHJldHVybiBmYWxzZTsNCiAgICAgIH0NCiAgICB9DQogICAgDQogICAgLy8gQ2hlY2sgVU5NUw0KICAgIGlmICghaW5VTk1TLmlzQmxhbmsoKSkgew0KICAgICAgaWYgKCF0aGlzLmNoZWNrQ1NZVEFCKCJVTklUIiwgaW5VTk1TKSkgew0KICAgICAgICBtaS5lcnJvcigiQmFzaWMgdW5pdCBvZiBtZWFzdXJlICR7aW5VTk1TfSBkb2VzIG5vdCBleGlzdCIpOw0KICAgICAgICByZXR1cm4gZmFsc2U7DQogICAgICB9DQogICAgfQ0KICAgIA0KICAgIHJldHVybiB0cnVlOw0KICB9DQogIA0KICAvKioNCiAgICogVmFsaWRhdGUgV0hMTyBmcm9tIE1JVFdITA0KICAgKi8NCiAgYm9vbGVhbiBjaGVja1dITE8oKSB7DQogICAgREJBY3Rpb24gTUlUV0hMX3F1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIk1JVFdITCIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7DQogICAgREJDb250YWluZXIgTUlUV0hMID0gTUlUV0hMX3F1ZXJ5LmdldENvbnRhaW5lcigpOw0KICAgIE1JVFdITC5zZXQoIk1XQ09OTyIsIGluQ09OTyk7DQogICAgTUlUV0hMLnNldCgiTVdXSExPIiwgaW5XSExPKTsNCiAgDQogICAgaWYgKCFNSVRXSExfcXVlcnkucmVhZChNSVRXSEwpKSB7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KICANCiAgLyoqDQogICAqIFZhbGlkYXRlIFBSTk8gZnJvbSBNSVRNQVMNCiAgICovDQogIGJvb2xlYW4gY2hlY2tQUk5PKCkgew0KICAgIERCQWN0aW9uIE1JVE1BU19xdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJNSVRNQVMiKS5pbmRleCgiMDAiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIE1JVE1BUyA9IE1JVE1BU19xdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICBNSVRNQVMuc2V0KCJNTUNPTk8iLCBpbkNPTk8pOw0KICAgIE1JVE1BUy5zZXQoIk1NSVROTyIsIGluUFJOTyk7DQogIA0KICAgIGlmICghTUlUTUFTX3F1ZXJ5LnJlYWQoTUlUTUFTKSkgew0KICAgICAgcmV0dXJuIGZhbHNlOw0KICAgIH0gZWxzZSB7DQogICAgICByZXR1cm4gdHJ1ZTsNCiAgICB9DQogIH0NCiAgDQogIC8qKg0KICAgKiBWYWxpZGF0ZSBNRk5PIGZyb20gTVdPSEVEDQogICAqLw0KICBib29sZWFuIGNoZWNrTUZOTygpIHsNCiAgICBFeHByZXNzaW9uRmFjdG9yeSBNV09IRURfZXhwID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1XT0hFRCIpOw0KICAgIE1XT0hFRF9leHAgPSBNV09IRURfZXhwLmVxKCJWSE1GTk8iLCBpbk1GTk8pOw0KICAgIA0KICAgIERCQWN0aW9uIE1XT0hFRF9xdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJNV09IRUQiKS5pbmRleCgiMDAiKS5tYXRjaGluZyhNV09IRURfZXhwKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIE1XT0hFRCA9IE1XT0hFRF9xdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICANCiAgICBpZiAoTVdPSEVEX3F1ZXJ5LnJlYWRBbGwoTVdPSEVELCAwLCBwYWdlU2l6ZSwge30pIDw9IDApIHsNCiAgICAgIHJldHVybiBmYWxzZTsNCiAgICB9IGVsc2Ugew0KICAgICAgcmV0dXJuIHRydWU7DQogICAgfQ0KICB9DQogIA0KICAvKioNCiAgICogVmFsaWRhdGUgTUtDTCBmcm9tIE1BVERBTQ0KICAgKi8NCiAgYm9vbGVhbiBjaGVja01LQ0woKSB7DQogICAgRXhwcmVzc2lvbkZhY3RvcnkgTUFUREFNX2V4cCA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJNQVREQU0iKTsNCiAgICBNQVREQU1fZXhwID0gTUFUREFNX2V4cC5lcSgiQUtERVZBIiwgaW5NS0NMKTsNCiAgICANCiAgICBEQkFjdGlvbiBNQVREQU1fcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUFUREFNIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoTUFUREFNX2V4cCkuYnVpbGQoKTsNCiAgICBEQkNvbnRhaW5lciBNQVREQU0gPSBNQVREQU1fcXVlcnkuZ2V0Q29udGFpbmVyKCk7DQogICAgDQogICAgaWYgKE1BVERBTV9xdWVyeS5yZWFkQWxsKE1BVERBTSwgMCwgcGFnZVNpemUsIHt9KSA8PSAwKSB7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KICANCiAgLyoqDQogICAqIFZhbGlkYXRlIGZyb20gQ1NZVEFCDQogICAqLw0KICBib29sZWFuIGNoZWNrQ1NZVEFCKFN0cmluZyBTVENPLCBTdHJpbmcgU1RLWSkgew0KICAgIERCQWN0aW9uIENTWVRBQl9xdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJDU1lUQUIiKS5pbmRleCgiMDAiKS5idWlsZCgpOw0KICAgIERCQ29udGFpbmVyIENTWVRBQiA9IENTWVRBQl9xdWVyeS5nZXRDb250YWluZXIoKTsNCiAgICBDU1lUQUIuc2V0KCJDVENPTk8iLCBpbkNPTk8pOw0KICAgIENTWVRBQi5zZXQoIkNURElWSSIsICIiKTsNCiAgICBDU1lUQUIuc2V0KCJDVFNUQ08iLCBTVENPKTsNCiAgICBDU1lUQUIuc2V0KCJDVFNUS1kiLCBTVEtZKTsNCiAgICBDU1lUQUIuc2V0KCJDVExOQ0QiLCAiIik7DQogICAgDQogICAgaWYgKCFDU1lUQUJfcXVlcnkucmVhZChDU1lUQUIpKSB7DQogICAgICByZXR1cm4gZmFsc2U7DQogICAgfSBlbHNlIHsNCiAgICAgIHJldHVybiB0cnVlOw0KICAgIH0NCiAgfQ0KDQp9"}}}
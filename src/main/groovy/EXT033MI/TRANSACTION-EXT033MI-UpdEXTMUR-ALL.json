{"programModules":{"EXT033MI":{"program":"EXT033MI","triggers":{},"transactions":{"UpdEXTMUR":{"sourceUuid":"5302edd3-74fc-459c-962f-cd0d40d89f6e","name":"UpdEXTMUR","program":"EXT033MI","description":"Update record on table EXTMUR","active":true,"multi":false,"modified":1755177609268,"modifiedBy":"APAULDY","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"DIVI","description":"Division","length":3,"mandatory":true,"type":"A","refField":null},{"name":"WHLO","description":"Warehouse","length":3,"mandatory":true,"type":"A","refField":null},{"name":"DATE","description":"Date","length":8,"mandatory":true,"type":"N","refField":null},{"name":"MFNO","description":"Manufacturing order number","length":10,"mandatory":true,"type":"A","refField":null},{"name":"PRNO","description":"Product","length":15,"mandatory":true,"type":"A","refField":null},{"name":"MKCL","description":"Milk class","length":15,"mandatory":false,"type":"A","refField":null},{"name":"CMDT","description":"Commodity","length":3,"mandatory":false,"type":"A","refField":null},{"name":"SCMD","description":"Sub-commodity","length":10,"mandatory":false,"type":"A","refField":null},{"name":"MFQT","description":"Manufactured quantity","length":15,"mandatory":false,"type":"N","refField":null},{"name":"UNMS","description":"Basic unit of measure","length":3,"mandatory":false,"type":"A","refField":null},{"name":"AMQT","description":"Actual milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SMQT","description":"Std milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"ABQT","description":"Actual butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SBQT","description":"Std butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"AOMQ","description":"Actual organic milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SOMQ","description":"Std organic milk qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"AOBQ","description":"Actual organic butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SOBQ","description":"Std organic butter fat qty (LB)","length":15,"mandatory":false,"type":"N","refField":null},{"name":"ANFQ","description":"Actual non-fat dry milk qty","length":15,"mandatory":false,"type":"N","refField":null},{"name":"SNFQ","description":"Std non-fat dry milk qty","length":15,"mandatory":false,"type":"N","refField":null}],"utilities":[],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"5302edd3-74fc-459c-962f-cd0d40d89f6e":{"uuid":"5302edd3-74fc-459c-962f-cd0d40d89f6e","updated":1756222444838,"updatedBy":"APAULDY","created":1753202160659,"createdBy":"APAULDY","apiVersion":"0.21","beVersion":"16.0.0.20250618165112.8","language":"GROOVY","codeHash":"3EA891183FBA25BE722F72CC4347C3F7256169D762B46507B80A0DE95A2AEB4E","code":"LyoqCiAqIEBOYW1lOiBVcGRFWFRNVVIuRVhUTVVSCiAqIEBEZXNjcmlwdGlvbjogVXBkYXRlIHJlY29yZCBvbiB0YWJsZSBFWFRNVVIKICogQEF1dGhvcnM6IEFqaWFuIER5CiAqCiAqIEBDSEFOR0VMT0dTCiAqICBWZXJzaW9uICAgRGF0ZSAgICAgIFVzZXIgICAgRGVzY3JpcHRpb24KICogIDEuMC4wICAgICAyMDI1MDcyMyAgQURZICAgICBJbml0aWFsIFJlbGVhc2UKICogIDEuMC4xICAgICAyMDI1MDgxNCAgQURZICAgICBBZGRlZCBpbnB1dHMgQU5GUSwgU05GUQogKiAgMS4wLjIgICAgIDIwMjUwODI2ICBBRFkgICAgIEFkZGVkIEphdmFkb2MgY29tbWVudHMsIGZpeGVkIHZhcmlhYmxlIG5hbWVzLCBzZXQgbmJyT2ZLZXlzIHRvIDEKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7CmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOwoKcHVibGljIGNsYXNzIFVwZEVYVE1VUiBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gewogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7CiAgcHJpdmF0ZSBmaW5hbCBVdGlsaXR5QVBJIHV0aWxpdHk7CiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyOwogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtOwogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7CiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsKCiAgcHJpdmF0ZSBpbnQgaW5DT05POwogIHByaXZhdGUgU3RyaW5nIGluRElWSSwgaW5XSExPLCBpbkRBVEUsIGluTUZOTywgaW5QUk5PLCBpbk1LQ0wsIGluQ01EVCwgaW5TQ01ELCBpbk1GUVQsIGluVU5NUywgaW5BTVFULCBpblNNUVQsIGluQUJRVCwgaW5TQlFULCBpbkFPTVEsIGluU09NUSwgaW5BT0JRLCBpblNPQlEsIGluQU5GUSwgaW5TTkZROwoKICBwdWJsaWMgVXBkRVhUTVVSKE1JQVBJIG1pLCBVdGlsaXR5QVBJIHV0aWxpdHksIExvZ2dlckFQSSBsb2dnZXIsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIERhdGFiYXNlQVBJIGRhdGFiYXNlKSB7CiAgICB0aGlzLm1pID0gbWk7CiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5OwogICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7CiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOwogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOwogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOwogIH0KCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGluQ09OTyA9IG1pLmluLmdldCgiQ09OTyIpID09IG51bGwgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgaW50IDogbWkuaW4uZ2V0KCJDT05PIikgYXMgaW50OwogICAgaW5ESVZJID0gbWkuaW5EYXRhLmdldCgiRElWSSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkRJVkkiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5XSExPID0gbWkuaW5EYXRhLmdldCgiV0hMTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIldITE8iKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5EQVRFID0gbWkuaW5EYXRhLmdldCgiREFURSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkRBVEUiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5NRk5PID0gbWkuaW5EYXRhLmdldCgiTUZOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1GTk8iKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5QUk5PID0gbWkuaW5EYXRhLmdldCgiUFJOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlBSTk8iKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5NS0NMID0gbWkuaW5EYXRhLmdldCgiTUtDTCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1LQ0wiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5DTURUID0gbWkuaW5EYXRhLmdldCgiQ01EVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNNRFQiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5TQ01EID0gbWkuaW5EYXRhLmdldCgiU0NNRCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNDTUQiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5NRlFUID0gbWkuaW5EYXRhLmdldCgiTUZRVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIk1GUVQiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5VTk1TID0gbWkuaW5EYXRhLmdldCgiVU5NUyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlVOTVMiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5BTVFUID0gbWkuaW5EYXRhLmdldCgiQU1RVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFNUVQiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5TTVFUID0gbWkuaW5EYXRhLmdldCgiU01RVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNNUVQiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5BQlFUID0gbWkuaW5EYXRhLmdldCgiQUJRVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFCUVQiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5TQlFUID0gbWkuaW5EYXRhLmdldCgiU0JRVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNCUVQiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5BT01RID0gbWkuaW5EYXRhLmdldCgiQU9NUSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFPTVEiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5TT01RID0gbWkuaW5EYXRhLmdldCgiU09NUSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNPTVEiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5BT0JRID0gbWkuaW5EYXRhLmdldCgiQU9CUSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFPQlEiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5TT0JRID0gbWkuaW5EYXRhLmdldCgiU09CUSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNPQlEiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5BTkZRID0gbWkuaW5EYXRhLmdldCgiQU5GUSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkFORlEiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5TTkZRID0gbWkuaW5EYXRhLmdldCgiU05GUSIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNORlEiKS50cmltKCkgYXMgU3RyaW5nOwoKICAgIGlmICghaXNWYWxpZElucHV0KCkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBEQkFjdGlvbiBxdWVyeUVYVE1VUiA9IGRhdGFiYXNlLnRhYmxlKCJFWFRNVVIiKS5pbmRleCgiMDAiKS5zZWxlY3RBbGxGaWVsZHMoKS5idWlsZCgpOwogICAgREJDb250YWluZXIgY29udGFpbmVyRVhUTVVSID0gcXVlcnlFWFRNVVIuZ2V0Q29udGFpbmVyKCk7CiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWENPTk8iLCBpbkNPTk8pOwogICAgY29udGFpbmVyRVhUTVVSLnNldCgiRVhESVZJIiwgaW5ESVZJKTsKICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYV0hMTyIsIGluV0hMTyk7CiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWERBVEUiLCBpbkRBVEUgYXMgaW50KTsKICAgIGNvbnRhaW5lckVYVE1VUi5zZXQoIkVYTUZOTyIsIGluTUZOTyk7CiAgICBjb250YWluZXJFWFRNVVIuc2V0KCJFWFBSTk8iLCBpblBSTk8pOwoKICAgIGlmICghcXVlcnlFWFRNVVIucmVhZChjb250YWluZXJFWFRNVVIpKSB7CiAgICAgIG1pLmVycm9yKCJSZWNvcmQgZG9lcyBub3QgZXhpc3QiKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIExvY2FsRGF0ZVRpbWUgZGF0ZVRpbWUgPSBMb2NhbERhdGVUaW1lLm5vdygpOwogICAgaW50IGNoYW5nZWREYXRlID0gZGF0ZVRpbWUuZm9ybWF0KERhdGVUaW1lRm9ybWF0dGVyLm9mUGF0dGVybigieXl5eU1NZGQiKSkudG9JbnRlZ2VyKCk7CiAgICBpbnQgY2hhbmdlZFRpbWUgPSBkYXRlVGltZS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCk7CgogICAgcXVlcnlFWFRNVVIucmVhZExvY2soY29udGFpbmVyRVhUTVVSLCB7IExvY2tlZFJlc3VsdCBsb2NrZWRSZXN1bHQgLT4KICAgICAgaWYgKCFpbk1LQ0wuaXNCbGFuaygpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhNS0NMIiwgaW5NS0NMLmVxdWFscygiPyIpID8gIiIgOiBpbk1LQ0wpOwogICAgICB9CiAgICAgIGlmICghaW5DTURULmlzQmxhbmsoKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ01EVCIsIGluQ01EVC5lcXVhbHMoIj8iKSA/ICIiIDogaW5DTURUKTsKICAgICAgfQogICAgICBpZiAoIWluU0NNRC5pc0JsYW5rKCkpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFNDTUQiLCBpblNDTUQuZXF1YWxzKCI/IikgPyAiIiA6IGluU0NNRCk7CiAgICAgIH0KICAgICAgaWYgKCFpbk1GUVQuaXNCbGFuaygpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhNRlFUIiwgaW5NRlFULmVxdWFscygiPyIpID8gMCA6IGluTUZRVCBhcyBkb3VibGUpOwogICAgICB9CiAgICAgIGlmICghaW5VTk1TLmlzQmxhbmsoKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYVU5NUyIsIGluVU5NUy5lcXVhbHMoIj8iKSA/ICIiIDogaW5VTk1TKTsKICAgICAgfQogICAgICBpZiAoIWluQU1RVC5pc0JsYW5rKCkpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEFNUVQiLCBpbkFNUVQuZXF1YWxzKCI/IikgPyAwIDogaW5BTVFUIGFzIGRvdWJsZSk7CiAgICAgIH0KICAgICAgaWYgKCFpblNNUVQuaXNCbGFuaygpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTTVFUIiwgaW5TTVFULmVxdWFscygiPyIpID8gMCA6IGluU01RVCBhcyBkb3VibGUpOwogICAgICB9CiAgICAgIGlmICghaW5BQlFULmlzQmxhbmsoKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQUJRVCIsIGluQUJRVC5lcXVhbHMoIj8iKSA/IDAgOiBpbkFCUVQgYXMgZG91YmxlKTsKICAgICAgfQogICAgICBpZiAoIWluU0JRVC5pc0JsYW5rKCkpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFNCUVQiLCBpblNCUVQuZXF1YWxzKCI/IikgPyAwIDogaW5TQlFUIGFzIGRvdWJsZSk7CiAgICAgIH0KICAgICAgaWYgKCFpbkFPTVEuaXNCbGFuaygpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhBT01RIiwgaW5BT01RLmVxdWFscygiPyIpID8gMCA6IGluQU9NUSBhcyBkb3VibGUpOwogICAgICB9CiAgICAgIGlmICghaW5TT01RLmlzQmxhbmsoKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYU09NUSIsIGluU09NUS5lcXVhbHMoIj8iKSA/IDAgOiBpblNPTVEgYXMgZG91YmxlKTsKICAgICAgfQogICAgICBpZiAoIWluQU9CUS5pc0JsYW5rKCkpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWEFPQlEiLCBpbkFPQlEuZXF1YWxzKCI/IikgPyAwIDogaW5BT0JRIGFzIGRvdWJsZSk7CiAgICAgIH0KICAgICAgaWYgKCFpblNPQlEuaXNCbGFuaygpKSB7CiAgICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhTT0JRIiwgaW5TT0JRLmVxdWFscygiPyIpID8gMCA6IGluU09CUSBhcyBkb3VibGUpOwogICAgICB9CiAgICAgIGlmICghaW5BTkZRLmlzQmxhbmsoKSkgewogICAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQU5GUSIsIGluQU5GUS5lcXVhbHMoIj8iKSA/IDAgOiBpbkFORlEgYXMgZG91YmxlKTsKICAgICAgfQogICAgICBpZiAoIWluU05GUS5pc0JsYW5rKCkpIHsKICAgICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWFNORlEiLCBpblNORlEuZXF1YWxzKCI/IikgPyAwIDogaW5TTkZRIGFzIGRvdWJsZSk7CiAgICAgIH0KICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhDSE5PIiwgbG9ja2VkUmVzdWx0LmdldEludCgiRVhDSE5PIikgKyAxKTsKICAgICAgbG9ja2VkUmVzdWx0LnNldCgiRVhMTURUIiwgY2hhbmdlZERhdGUpOwogICAgICBsb2NrZWRSZXN1bHQuc2V0KCJFWExNVE0iLCBjaGFuZ2VkVGltZSk7CiAgICAgIGxvY2tlZFJlc3VsdC5zZXQoIkVYQ0hJRCIsIHByb2dyYW0uZ2V0VXNlcigpKTsKICAgICAgbG9ja2VkUmVzdWx0LnVwZGF0ZSgpOwogICAgfSk7CiAgfQogIAogIC8qKgogICAqIFZhbGlkYXRlIGlucHV0IGZpZWxkcwogICAqLwogIGJvb2xlYW4gaXNWYWxpZElucHV0KCkgewogICAgLy8gQ2hlY2sgTUtDTAogICAgaWYgKCFpbk1LQ0wuaXNCbGFuaygpICYmIGluTUtDTCAhPSAiPyIpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrTUtDTCgpKSB7CiAgICAgICAgbWkuZXJyb3IoIk1pbGsgY2xhc3MgJHtpbk1LQ0x9IGRvZXMgbm90IGV4aXN0Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgICAKICAgIC8vIENoZWNrIENNRFQKICAgIGlmICghaW5DTURULmlzQmxhbmsoKSAmJiBpbkNNRFQgIT0gIj8iKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0NTWVRBQigiQ0ZJMyIsIGluQ01EVCkpIHsKICAgICAgICBtaS5lcnJvcigiQ29tbW9kaXR5ICR7aW5DTURUfSBkb2VzIG5vdCBleGlzdCIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogICAgCiAgICAvLyBDaGVjayBTQ01ECiAgICBpZiAoIWluU0NNRC5pc0JsYW5rKCkgJiYgaW5TQ01EICE9ICI/IikgewogICAgICBpZiAoIXRoaXMuY2hlY2tDU1lUQUIoIkNGSTEiLCBpblNDTUQpKSB7CiAgICAgICAgbWkuZXJyb3IoIlN1Yi1jb21tb2RpdHkgJHtpblNDTUR9IGRvZXMgbm90IGV4aXN0Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgICAKICAgIC8vIENoZWNrIFVOTVMKICAgIGlmICghaW5VTk1TLmlzQmxhbmsoKSAmJiBpblVOTVMgIT0gIj8iKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0NTWVRBQigiVU5JVCIsIGluVU5NUykpIHsKICAgICAgICBtaS5lcnJvcigiQmFzaWMgdW5pdCBvZiBtZWFzdXJlICR7aW5VTk1TfSBkb2VzIG5vdCBleGlzdCIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgCiAgLyoqCiAgICogVmFsaWRhdGUgTUtDTCBmcm9tIE1BVERBTQogICAqLwogIGJvb2xlYW4gY2hlY2tNS0NMKCkgewogICAgRXhwcmVzc2lvbkZhY3RvcnkgZXhwTUFUREFNID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk1BVERBTSIpOwogICAgZXhwTUFUREFNID0gZXhwTUFUREFNLmVxKCJBS0RFVkEiLCBpbk1LQ0wpOwogICAgCiAgICBEQkFjdGlvbiBxdWVyeU1BVERBTSA9IGRhdGFiYXNlLnRhYmxlKCJNQVREQU0iKS5pbmRleCgiMDAiKS5tYXRjaGluZyhleHBNQVREQU0pLmJ1aWxkKCk7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXJNQVREQU0gPSBxdWVyeU1BVERBTS5nZXRDb250YWluZXIoKTsKICAgIGNvbnRhaW5lck1BVERBTS5zZXQoIkFLQ09OTyIsIGluQ09OTyk7CiAgICAKICAgIGlmIChxdWVyeU1BVERBTS5yZWFkQWxsKGNvbnRhaW5lck1BVERBTSwgMSwgMSwge30pIDw9IDApIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQogIAogIC8qKgogICAqIFZhbGlkYXRlIGZyb20gQ1NZVEFCCiAgICovCiAgYm9vbGVhbiBjaGVja0NTWVRBQihTdHJpbmcgc3RjbywgU3RyaW5nIHN0a3kpIHsKICAgIERCQWN0aW9uIHF1ZXJ5Q1NZVEFCID0gZGF0YWJhc2UudGFibGUoIkNTWVRBQiIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXJDU1lUQUIgPSBxdWVyeUNTWVRBQi5nZXRDb250YWluZXIoKTsKICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUQ09OTyIsIGluQ09OTyk7CiAgICBjb250YWluZXJDU1lUQUIuc2V0KCJDVERJVkkiLCAiIik7CiAgICBjb250YWluZXJDU1lUQUIuc2V0KCJDVFNUQ08iLCBzdGNvKTsKICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUU1RLWSIsIHN0a3kpOwogICAgY29udGFpbmVyQ1NZVEFCLnNldCgiQ1RMTkNEIiwgIiIpOwogICAgCiAgICBpZiAoIXF1ZXJ5Q1NZVEFCLnJlYWQoY29udGFpbmVyQ1NZVEFCKSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9Cn0="}}}
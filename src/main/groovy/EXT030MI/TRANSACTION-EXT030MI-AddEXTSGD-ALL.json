{"programModules":{"EXT030MI":{"program":"EXT030MI","triggers":{},"transactions":{"AddEXTSGD":{"sourceUuid":"6b23a84e-d918-4930-a4db-b088fa3056d0","name":"AddEXTSGD","program":"EXT030MI","description":"Add record on table EXTSGD","active":true,"multi":false,"modified":1749114834093,"modifiedBy":"APAULDY","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"SDST","description":"District","length":3,"mandatory":true,"type":"A","refField":null},{"name":"STRG","description":"Store group","length":10,"mandatory":true,"type":"A","refField":null},{"name":"CUNO","description":"Customer","length":10,"mandatory":true,"type":"A","refField":null}],"utilities":[],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"6b23a84e-d918-4930-a4db-b088fa3056d0":{"uuid":"6b23a84e-d918-4930-a4db-b088fa3056d0","updated":1750861907120,"updatedBy":"APAULDY","created":1749049682296,"createdBy":"APAULDY","apiVersion":"0.15","beVersion":"16.0.0.20250414161800.6","language":"GROOVY","codeHash":"7336D22A0F3859313277A7C267EE8AFA0FB1DCE11641AE4EB8F5FEE1E44F7DD2","code":"LyoqCiAqIEBOYW1lOiBBZGRFWFRTR0QuRVhUU0dECiAqIEBEZXNjcmlwdGlvbjogQWRkIHJlY29yZCBvbiB0YWJsZSBFWFRTR0QKICogQEF1dGhvcnM6IEFqaWFuIER5CiAqCiAqIEBDSEFOR0VMT0dTCiAqICBWZXJzaW9uICAgRGF0ZSAgICAgVXNlciAgICAgRGVzY3JpcHRpb24KICogIDEuMC4wICAgICAyMDI1MDYwNCBBRFkgICAgICBJbml0aWFsIFJlbGVhc2UKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7CmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOwoKcHVibGljIGNsYXNzIEFkZEVYVFNHRCBleHRlbmRzIEV4dGVuZE0zVHJhbnNhY3Rpb24gewogIHByaXZhdGUgZmluYWwgTUlBUEkgbWk7CiAgcHJpdmF0ZSBmaW5hbCBVdGlsaXR5QVBJIHV0aWxpdHk7CiAgcHJpdmF0ZSBmaW5hbCBMb2dnZXJBUEkgbG9nZ2VyOwogIHByaXZhdGUgZmluYWwgUHJvZ3JhbUFQSSBwcm9ncmFtOwogIHByaXZhdGUgZmluYWwgTUlDYWxsZXJBUEkgbWlDYWxsZXI7CiAgcHJpdmF0ZSBmaW5hbCBEYXRhYmFzZUFQSSBkYXRhYmFzZTsKCiAgcHJpdmF0ZSBpbnQgaW5DT05POwogIHByaXZhdGUgU3RyaW5nIGluU0RTVCwgaW5TVFJHLCBpbkNVTk8sIGluQ0hJRDsKICBwcml2YXRlIGludCBpbkNITk8sIGluUkdEVCwgaW5SR1RNLCBpbkxNRFQsIGluTE1UTTsKCiAgcHVibGljIEFkZEVYVFNHRChNSUFQSSBtaSwgVXRpbGl0eUFQSSB1dGlsaXR5LCBMb2dnZXJBUEkgbG9nZ2VyLCBQcm9ncmFtQVBJIHByb2dyYW0sIE1JQ2FsbGVyQVBJIG1pQ2FsbGVyLCBEYXRhYmFzZUFQSSBkYXRhYmFzZSkgewogICAgdGhpcy5taSA9IG1pOwogICAgdGhpcy51dGlsaXR5ID0gdXRpbGl0eTsKICAgIHRoaXMubG9nZ2VyID0gbG9nZ2VyOwogICAgdGhpcy5wcm9ncmFtID0gcHJvZ3JhbTsKICAgIHRoaXMubWlDYWxsZXIgPSBtaUNhbGxlcjsKICAgIHRoaXMuZGF0YWJhc2UgPSBkYXRhYmFzZTsKICB9CgogIHB1YmxpYyB2b2lkIG1haW4oKSB7CiAgICBpbkNPTk8gPSBtaS5pbi5nZXQoIkNPTk8iKSA9PSBudWxsID8gcHJvZ3JhbS5MREFaRC5DT05PIGFzIGludCA6IG1pLmluLmdldCgiQ09OTyIpIGFzIGludDsKICAgIGluU0RTVCA9IG1pLmluRGF0YS5nZXQoIlNEU1QiKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTRFNUIikudHJpbSgpIGFzIFN0cmluZzsKICAgIGluU1RSRyA9IG1pLmluRGF0YS5nZXQoIlNUUkciKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJTVFJHIikudHJpbSgpIGFzIFN0cmluZzsKICAgIGluQ1VOTyA9IG1pLmluRGF0YS5nZXQoIkNVTk8iKSA9PSBudWxsID8gIiIgOiBtaS5pbkRhdGEuZ2V0KCJDVU5PIikudHJpbSgpIGFzIFN0cmluZzsKCiAgICBpZiAoIWlzVmFsaWRJbnB1dCgpKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgREJBY3Rpb24gRVhUU0dEX3F1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVFNHRCIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7CiAgICBEQkNvbnRhaW5lciBFWFRTR0QgPSBFWFRTR0RfcXVlcnkuZ2V0Q29udGFpbmVyKCk7CiAgICBFWFRTR0Quc2V0KCJFWENPTk8iLCBpbkNPTk8pOwogICAgRVhUU0dELnNldCgiRVhTRFNUIiwgaW5TRFNUKTsKICAgIEVYVFNHRC5zZXQoIkVYU1RSRyIsIGluU1RSRyk7CiAgICBFWFRTR0Quc2V0KCJFWENVTk8iLCBpbkNVTk8pOwogICAgCiAgICBpZiAoRVhUU0dEX3F1ZXJ5LnJlYWQoRVhUU0dEKSkgewogICAgICBtaS5lcnJvcigiUmVjb3JkIGFscmVhZHkgZXhpc3RzIik7CiAgICAgIHJldHVybjsKICAgIH0KCiAgICBMb2NhbERhdGVUaW1lIGRhdGVUaW1lID0gTG9jYWxEYXRlVGltZS5ub3coKTsKICAgIGludCBlbnRyeURhdGUgPSBkYXRlVGltZS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJ5eXl5TU1kZCIpKS50b0ludGVnZXIoKTsKICAgIGludCBlbnRyeVRpbWUgPSBkYXRlVGltZS5mb3JtYXQoRGF0ZVRpbWVGb3JtYXR0ZXIub2ZQYXR0ZXJuKCJISG1tc3MiKSkudG9JbnRlZ2VyKCk7CiAgICBpbkNISUQgPSBwcm9ncmFtLmdldFVzZXIoKTsKICAgIGluQ0hOTyA9IDE7CiAgICBpblJHRFQgPSBlbnRyeURhdGU7CiAgICBpblJHVE0gPSBlbnRyeVRpbWU7CiAgICBpbkxNRFQgPSBlbnRyeURhdGU7CiAgICBpbkxNVE0gPSBlbnRyeVRpbWU7CgogICAgRVhUU0dELnNldCgiRVhDSElEIiwgaW5DSElEKTsKICAgIEVYVFNHRC5zZXQoIkVYQ0hOTyIsIGluQ0hOTyk7CiAgICBFWFRTR0Quc2V0KCJFWFJHRFQiLCBpblJHRFQpOwogICAgRVhUU0dELnNldCgiRVhSR1RNIiwgaW5SR1RNKTsKICAgIEVYVFNHRC5zZXQoIkVYTE1EVCIsIGluTE1EVCk7CiAgICBFWFRTR0Quc2V0KCJFWExNVE0iLCBpbkxNVE0pOwoKICAgIEVYVFNHRF9xdWVyeS5pbnNlcnQoRVhUU0dEKTsKICB9CgogIGJvb2xlYW4gaXNWYWxpZElucHV0KCkgewogICAgLy8gQ2hlY2sgU0RTVAogICAgaWYgKCFpblNEU1QuaXNCbGFuaygpKSB7CiAgICAgIGlmICghdGhpcy5jaGVja1NEU1QoKSkgewogICAgICAgIG1pLmVycm9yKCJEaXN0cmljdCAke2luU0RTVH0gZG9lcyBub3QgZXhpc3QiKTsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIAogICAgLy8gQ2hlY2sgQ1VOTwogICAgaWYgKCFpbkNVTk8uaXNCbGFuaygpKSB7CiAgICAgIGlmICghdGhpcy5jaGVja0NVTk8oKSkgewogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gdHJ1ZTsKICB9CiAgCiAgLyoqCiAgICogVmFsaWRhdGUgU0RTVCBmcm9tIENTWVRBQgogICAqLwogIGJvb2xlYW4gY2hlY2tTRFNUKCkgewogICAgREJBY3Rpb24gQ1NZVEFCX3F1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkNTWVRBQiIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7CiAgICBEQkNvbnRhaW5lciBDU1lUQUIgPSBDU1lUQUJfcXVlcnkuZ2V0Q29udGFpbmVyKCk7CiAgICBDU1lUQUIuc2V0KCJDVENPTk8iLCBpbkNPTk8pOwogICAgQ1NZVEFCLnNldCgiQ1RESVZJIiwgIiIpOwogICAgQ1NZVEFCLnNldCgiQ1RTVENPIiwgIlNEU1QiKTsKICAgIENTWVRBQi5zZXQoIkNUU1RLWSIsIGluU0RTVCk7CiAgICBDU1lUQUIuc2V0KCJDVExOQ0QiLCAiIik7CiAgICAKICAgIGlmICghQ1NZVEFCX3F1ZXJ5LnJlYWQoQ1NZVEFCKSkgewogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICByZXR1cm4gdHJ1ZTsKICAgIH0KICB9CgogIC8qKgogICAqIFZhbGlkYXRlIENVTk8gZnJvbSBPQ1VTTUEKICAgKi8KICBib29sZWFuIGNoZWNrQ1VOTygpIHsKICAgIERCQWN0aW9uIE9DVVNNQV9xdWVyeSA9IGRhdGFiYXNlLnRhYmxlKCJPQ1VTTUEiKS5pbmRleCgiMDAiKS5idWlsZCgpOwogICAgREJDb250YWluZXIgT0NVU01BID0gT0NVU01BX3F1ZXJ5LmdldENvbnRhaW5lcigpOwogICAgT0NVU01BLnNldCgiT0tDT05PIiwgaW5DT05PKTsKICAgIE9DVVNNQS5zZXQoIk9LQ1VOTyIsIGluQ1VOTyk7CiAgCiAgICBpZiAoIU9DVVNNQV9xdWVyeS5yZWFkKE9DVVNNQSkpIHsKICAgICAgbWkuZXJyb3IoIkN1c3RvbWVyICR7aW5DVU5PfSBkb2VzIG5vdCBleGlzdCIpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICBpZiAoIWluU0RTVC5pc0JsYW5rKCkpIHsKICAgICAgICBFeHByZXNzaW9uRmFjdG9yeSBPQ1VTTUFfZXhwID0gZGF0YWJhc2UuZ2V0RXhwcmVzc2lvbkZhY3RvcnkoIk9DVVNNQSIpOwogICAgICAgIE9DVVNNQV9leHAgPSBPQ1VTTUFfZXhwLmVxKCJTRFNUIiwgaW5TRFNUKTsKICAgICAgICBPQ1VTTUFfcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT0NVU01BIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoT0NVU01BX2V4cCkuYnVpbGQoKTsKICAgICAgCiAgICAgICAgaWYgKCFPQ1VTTUFfcXVlcnkucmVhZChPQ1VTTUEpKSB7CiAgICAgICAgICBtaS5lcnJvcigiQ3VzdG9tZXIgJHtpbkNVTk99IGRvZXMgbm90IGJlbG9uZyB0byBEaXN0cmljdCAke2luU0RTVH0iKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWU7IAogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KCn0="}}}
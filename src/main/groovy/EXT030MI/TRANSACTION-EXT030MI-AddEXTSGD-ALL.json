{"programModules":{"EXT030MI":{"program":"EXT030MI","triggers":{},"transactions":{"AddEXTSGD":{"sourceUuid":"6b23a84e-d918-4930-a4db-b088fa3056d0","name":"AddEXTSGD","program":"EXT030MI","description":"Add record on table EXTSGD","active":true,"multi":false,"modified":1749114834093,"modifiedBy":"APAULDY","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"SDST","description":"District","length":3,"mandatory":true,"type":"A","refField":null},{"name":"STRG","description":"Store group","length":10,"mandatory":true,"type":"A","refField":null},{"name":"CUNO","description":"Customer","length":10,"mandatory":true,"type":"A","refField":null}],"utilities":[],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"6b23a84e-d918-4930-a4db-b088fa3056d0":{"uuid":"6b23a84e-d918-4930-a4db-b088fa3056d0","updated":1756222171812,"updatedBy":"APAULDY","created":1749049682296,"createdBy":"APAULDY","apiVersion":"0.15","beVersion":"16.0.0.20250618165112.8","language":"GROOVY","codeHash":"98C5DF0D1079E6FC1231DAD1F45CB3FD2442DDE065588DA102A1A20B2F550AA2","code":"LyoqCiAqIEBOYW1lOiBBZGRFWFRTR0QuRVhUU0dECiAqIEBEZXNjcmlwdGlvbjogQWRkIHJlY29yZCBvbiB0YWJsZSBFWFRTR0QKICogQEF1dGhvcnM6IEFqaWFuIER5CiAqCiAqIEBDSEFOR0VMT0dTCiAqICBWZXJzaW9uICAgRGF0ZSAgICAgIFVzZXIgICAgRGVzY3JpcHRpb24KICogIDEuMC4wICAgICAyMDI1MDYwNCAgQURZICAgICBJbml0aWFsIFJlbGVhc2UKICogIDEuMC4xICAgICAyMDI1MDgyNiAgQURZICAgICBBZGRlZCBKYXZhZG9jIGNvbW1lbnRzLCBmaXhlZCB2YXJpYWJsZSBuYW1lcywgcmVtb3ZlZCBxdWVyeSBmb3IgU0RTVAogKgogKi8KCmltcG9ydCBqYXZhLnRpbWUuTG9jYWxEYXRlVGltZTsKaW1wb3J0IGphdmEudGltZS5mb3JtYXQuRGF0ZVRpbWVGb3JtYXR0ZXI7CgpwdWJsaWMgY2xhc3MgQWRkRVhUU0dEIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsKICBwcml2YXRlIGZpbmFsIFV0aWxpdHlBUEkgdXRpbGl0eTsKICBwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXI7CiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07CiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcjsKICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOwoKICBwcml2YXRlIGludCBpbkNPTk87CiAgcHJpdmF0ZSBTdHJpbmcgaW5TRFNULCBpblNUUkcsIGluQ1VOTywgaW5DSElEOwogIHByaXZhdGUgaW50IGluQ0hOTywgaW5SR0RULCBpblJHVE0sIGluTE1EVCwgaW5MTVRNOwoKICBwdWJsaWMgQWRkRVhUU0dEKE1JQVBJIG1pLCBVdGlsaXR5QVBJIHV0aWxpdHksIExvZ2dlckFQSSBsb2dnZXIsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIERhdGFiYXNlQVBJIGRhdGFiYXNlKSB7CiAgICB0aGlzLm1pID0gbWk7CiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5OwogICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7CiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOwogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOwogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOwogIH0KCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGluQ09OTyA9IG1pLmluLmdldCgiQ09OTyIpID09IG51bGwgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgaW50IDogbWkuaW4uZ2V0KCJDT05PIikgYXMgaW50OwogICAgaW5TRFNUID0gbWkuaW5EYXRhLmdldCgiU0RTVCIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNEU1QiKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5TVFJHID0gbWkuaW5EYXRhLmdldCgiU1RSRyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIlNUUkciKS50cmltKCkgYXMgU3RyaW5nOwogICAgaW5DVU5PID0gbWkuaW5EYXRhLmdldCgiQ1VOTyIpID09IG51bGwgPyAiIiA6IG1pLmluRGF0YS5nZXQoIkNVTk8iKS50cmltKCkgYXMgU3RyaW5nOwoKICAgIGlmICghaXNWYWxpZElucHV0KCkpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgCiAgICBEQkFjdGlvbiBxdWVyeUVYVFNHRCA9IGRhdGFiYXNlLnRhYmxlKCJFWFRTR0QiKS5pbmRleCgiMDAiKS5idWlsZCgpOwogICAgREJDb250YWluZXIgY29udGFpbmVyRVhUU0dEID0gcXVlcnlFWFRTR0QuZ2V0Q29udGFpbmVyKCk7CiAgICBjb250YWluZXJFWFRTR0Quc2V0KCJFWENPTk8iLCBpbkNPTk8pOwogICAgY29udGFpbmVyRVhUU0dELnNldCgiRVhTRFNUIiwgaW5TRFNUKTsKICAgIGNvbnRhaW5lckVYVFNHRC5zZXQoIkVYU1RSRyIsIGluU1RSRyk7CiAgICBjb250YWluZXJFWFRTR0Quc2V0KCJFWENVTk8iLCBpbkNVTk8pOwogICAgCiAgICBpZiAocXVlcnlFWFRTR0QucmVhZChjb250YWluZXJFWFRTR0QpKSB7CiAgICAgIG1pLmVycm9yKCJSZWNvcmQgYWxyZWFkeSBleGlzdHMiKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIExvY2FsRGF0ZVRpbWUgZGF0ZVRpbWUgPSBMb2NhbERhdGVUaW1lLm5vdygpOwogICAgaW50IGVudHJ5RGF0ZSA9IGRhdGVUaW1lLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpOwogICAgaW50IGVudHJ5VGltZSA9IGRhdGVUaW1lLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKTsKICAgIGluQ0hJRCA9IHByb2dyYW0uZ2V0VXNlcigpOwogICAgaW5DSE5PID0gMTsKICAgIGluUkdEVCA9IGVudHJ5RGF0ZTsKICAgIGluUkdUTSA9IGVudHJ5VGltZTsKICAgIGluTE1EVCA9IGVudHJ5RGF0ZTsKICAgIGluTE1UTSA9IGVudHJ5VGltZTsKCiAgICBjb250YWluZXJFWFRTR0Quc2V0KCJFWENISUQiLCBpbkNISUQpOwogICAgY29udGFpbmVyRVhUU0dELnNldCgiRVhDSE5PIiwgaW5DSE5PKTsKICAgIGNvbnRhaW5lckVYVFNHRC5zZXQoIkVYUkdEVCIsIGluUkdEVCk7CiAgICBjb250YWluZXJFWFRTR0Quc2V0KCJFWFJHVE0iLCBpblJHVE0pOwogICAgY29udGFpbmVyRVhUU0dELnNldCgiRVhMTURUIiwgaW5MTURUKTsKICAgIGNvbnRhaW5lckVYVFNHRC5zZXQoIkVYTE1UTSIsIGluTE1UTSk7CgogICAgcXVlcnlFWFRTR0QuaW5zZXJ0KGNvbnRhaW5lckVYVFNHRCk7CiAgfQoKICAvKioKICAgKiBWYWxpZGF0ZSBpbnB1dCBmaWVsZHMKICAgKi8KICBib29sZWFuIGlzVmFsaWRJbnB1dCgpIHsKICAgIC8vIENoZWNrIFNEU1QKICAgIGlmICghaW5TRFNULmlzQmxhbmsoKSkgewogICAgICBpZiAoIXRoaXMuY2hlY2tTRFNUKCkpIHsKICAgICAgICBtaS5lcnJvcigiRGlzdHJpY3QgJHtpblNEU1R9IGRvZXMgbm90IGV4aXN0Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgICAKICAgIC8vIENoZWNrIENVTk8KICAgIGlmICghaW5DVU5PLmlzQmxhbmsoKSkgewogICAgICBpZiAoIXRoaXMuY2hlY2tDVU5PKCkpIHsKICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIHRydWU7CiAgfQogIAogIC8qKgogICAqIFZhbGlkYXRlIFNEU1QgZnJvbSBDU1lUQUIKICAgKi8KICBib29sZWFuIGNoZWNrU0RTVCgpIHsKICAgIERCQWN0aW9uIHF1ZXJ5Q1NZVEFCID0gZGF0YWJhc2UudGFibGUoIkNTWVRBQiIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXJDU1lUQUIgPSBxdWVyeUNTWVRBQi5nZXRDb250YWluZXIoKTsKICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUQ09OTyIsIGluQ09OTyk7CiAgICBjb250YWluZXJDU1lUQUIuc2V0KCJDVERJVkkiLCAiIik7CiAgICBjb250YWluZXJDU1lUQUIuc2V0KCJDVFNUQ08iLCAiU0RTVCIpOwogICAgY29udGFpbmVyQ1NZVEFCLnNldCgiQ1RTVEtZIiwgaW5TRFNUKTsKICAgIGNvbnRhaW5lckNTWVRBQi5zZXQoIkNUTE5DRCIsICIiKTsKICAgIAogICAgaWYgKCFxdWVyeUNTWVRBQi5yZWFkKGNvbnRhaW5lckNTWVRBQikpIHsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSBlbHNlIHsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfQoKICAvKioKICAgKiBWYWxpZGF0ZSBDVU5PIGZyb20gT0NVU01BCiAgICovCiAgYm9vbGVhbiBjaGVja0NVTk8oKSB7CiAgICBEQkFjdGlvbiBxdWVyeU9DVVNNQSA9IGRhdGFiYXNlLnRhYmxlKCJPQ1VTTUEiKS5pbmRleCgiMDAiKS5zZWxlY3Rpb24oIk9LU0RTVCIpLmJ1aWxkKCk7CiAgICBEQkNvbnRhaW5lciBjb250YWluZXJPQ1VTTUEgPSBxdWVyeU9DVVNNQS5nZXRDb250YWluZXIoKTsKICAgIGNvbnRhaW5lck9DVVNNQS5zZXQoIk9LQ09OTyIsIGluQ09OTyk7CiAgICBjb250YWluZXJPQ1VTTUEuc2V0KCJPS0NVTk8iLCBpbkNVTk8pOwogIAogICAgaWYgKCFxdWVyeU9DVVNNQS5yZWFkKGNvbnRhaW5lck9DVVNNQSkpIHsKICAgICAgbWkuZXJyb3IoIkN1c3RvbWVyICR7aW5DVU5PfSBkb2VzIG5vdCBleGlzdCIpOwogICAgICByZXR1cm4gZmFsc2U7CiAgICB9IGVsc2UgewogICAgICBpZiAoIWluU0RTVC5pc0JsYW5rKCkpIHsKICAgICAgICBpZiAoaW5TRFNUICE9IGNvbnRhaW5lck9DVVNNQS5nZXQoIk9LU0RTVCIpLnRvU3RyaW5nKCkpIHsKICAgICAgICAgIG1pLmVycm9yKCJDdXN0b21lciAke2luQ1VOT30gZG9lcyBub3QgYmVsb25nIHRvIERpc3RyaWN0ICR7aW5TRFNUfSIpOwogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgIH0KICAgIH0KICB9Cgp9"}}}
{"programModules":{"EXT029MI":{"program":"EXT029MI","triggers":{},"transactions":{"AddEXTDSV":{"sourceUuid":"8f0fbc4c-bca0-45df-942e-6083dcda5311","name":"AddEXTDSV","program":"EXT029MI","description":"Add record on table EXTDSV","active":true,"multi":false,"modified":1751656986019,"modifiedBy":"APAULDY","outputFields":[],"inputFields":[{"name":"CONO","description":"Company","length":3,"mandatory":false,"type":"N","refField":null},{"name":"CUDT","description":"Customer's purchase order date","length":8,"mandatory":true,"type":"N","refField":null},{"name":"FACI","description":"Facility","length":3,"mandatory":true,"type":"A","refField":null},{"name":"SDST","description":"District","length":3,"mandatory":true,"type":"A","refField":null},{"name":"CUNO","description":"Customer","length":10,"mandatory":true,"type":"A","refField":null},{"name":"ITNO","description":"Item number","length":15,"mandatory":true,"type":"A","refField":null},{"name":"ORQT","description":"Ordered quantity - basic U/M","length":15,"mandatory":false,"type":"N","refField":null}],"utilities":["DateUtil"],"market":"ALL"}},"batches":{},"advancedPrograms":{}}},"utilities":{},"sources":{"8f0fbc4c-bca0-45df-942e-6083dcda5311":{"uuid":"8f0fbc4c-bca0-45df-942e-6083dcda5311","updated":1753272957851,"updatedBy":"APAULDY","created":1749027720102,"createdBy":"APAULDY","apiVersion":"0.15","beVersion":"16.0.0.20250521011729.8","language":"GROOVY","codeHash":"C908C00430108007064F613D74FCBB470924F0D2AB5FE92BB7FBD64113C2AA2D","code":"LyoqCiAqIEBOYW1lOiBBZGRFWFREU1YuRVhURFNWCiAqIEBEZXNjcmlwdGlvbjogQWRkIHJlY29yZCBvbiB0YWJsZSBFWFREU1YKICogQEF1dGhvcnM6IEFqaWFuIER5CiAqCiAqIEBDSEFOR0VMT0dTCiAqICBWZXJzaW9uICAgRGF0ZSAgICAgVXNlciAgICAgRGVzY3JpcHRpb24KICogIDEuMC4wICAgICAyMDI1MDYwNCBBRFkgICAgICBJbml0aWFsIFJlbGVhc2UKICoKICovCgppbXBvcnQgamF2YS50aW1lLkxvY2FsRGF0ZVRpbWU7CmltcG9ydCBqYXZhLnRpbWUuZm9ybWF0LkRhdGVUaW1lRm9ybWF0dGVyOwppbXBvcnQgamF2YS50ZXh0LlNpbXBsZURhdGVGb3JtYXQ7CgpwdWJsaWMgY2xhc3MgQWRkRVhURFNWIGV4dGVuZHMgRXh0ZW5kTTNUcmFuc2FjdGlvbiB7CiAgcHJpdmF0ZSBmaW5hbCBNSUFQSSBtaTsKICBwcml2YXRlIGZpbmFsIFV0aWxpdHlBUEkgdXRpbGl0eTsKICBwcml2YXRlIGZpbmFsIExvZ2dlckFQSSBsb2dnZXI7CiAgcHJpdmF0ZSBmaW5hbCBQcm9ncmFtQVBJIHByb2dyYW07CiAgcHJpdmF0ZSBmaW5hbCBNSUNhbGxlckFQSSBtaUNhbGxlcjsKICBwcml2YXRlIGZpbmFsIERhdGFiYXNlQVBJIGRhdGFiYXNlOwoKICBwcml2YXRlIGludCBpbkNPTk8sIGluQ1VEVCwgaW5DSE5PLCBpblJHRFQsIGluUkdUTSwgaW5MTURULCBpbkxNVE07CiAgcHJpdmF0ZSBTdHJpbmcgaW5GQUNJLCBpblNEU1QsIGluQ1VOTywgaW5JVE5PLCBpbkNISUQ7CiAgcHJpdmF0ZSBkb3VibGUgaW5PUlFUOwoKICBwdWJsaWMgQWRkRVhURFNWKE1JQVBJIG1pLCBVdGlsaXR5QVBJIHV0aWxpdHksIExvZ2dlckFQSSBsb2dnZXIsIFByb2dyYW1BUEkgcHJvZ3JhbSwgTUlDYWxsZXJBUEkgbWlDYWxsZXIsIERhdGFiYXNlQVBJIGRhdGFiYXNlKSB7CiAgICB0aGlzLm1pID0gbWk7CiAgICB0aGlzLnV0aWxpdHkgPSB1dGlsaXR5OwogICAgdGhpcy5sb2dnZXIgPSBsb2dnZXI7CiAgICB0aGlzLnByb2dyYW0gPSBwcm9ncmFtOwogICAgdGhpcy5taUNhbGxlciA9IG1pQ2FsbGVyOwogICAgdGhpcy5kYXRhYmFzZSA9IGRhdGFiYXNlOwogIH0KCiAgcHVibGljIHZvaWQgbWFpbigpIHsKICAgIGluQ09OTyA9IG1pLmluLmdldCgiQ09OTyIpID09IG51bGwgPyBwcm9ncmFtLkxEQVpELkNPTk8gYXMgaW50IDogbWkuaW4uZ2V0KCJDT05PIikgYXMgaW50OwogICAgaW5DVURUID0gbWkuaW4uZ2V0KCJDVURUIikgPT0gbnVsbCA/IDAgOiBtaS5pbi5nZXQoIkNVRFQiKSBhcyBpbnQ7CiAgICBpbkZBQ0kgPSBtaS5pbkRhdGEuZ2V0KCJGQUNJIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiRkFDSSIpLnRyaW0oKSBhcyBTdHJpbmc7CiAgICBpblNEU1QgPSBtaS5pbkRhdGEuZ2V0KCJTRFNUIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiU0RTVCIpLnRyaW0oKSBhcyBTdHJpbmc7CiAgICBpbkNVTk8gPSBtaS5pbkRhdGEuZ2V0KCJDVU5PIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiQ1VOTyIpLnRyaW0oKSBhcyBTdHJpbmc7CiAgICBpbklUTk8gPSBtaS5pbkRhdGEuZ2V0KCJJVE5PIikgPT0gbnVsbCA/ICIiIDogbWkuaW5EYXRhLmdldCgiSVROTyIpLnRyaW0oKSBhcyBTdHJpbmc7CiAgICBpbk9SUVQgPSBtaS5pbi5nZXQoIk9SUVQiKSA9PSBudWxsID8gMCA6IG1pLmluLmdldCgiT1JRVCIpIGFzIGRvdWJsZTsKCiAgICBpZiAoIWlzVmFsaWRJbnB1dCgpKSB7CiAgICAgIHJldHVybjsKICAgIH0KICAgIAogICAgREJBY3Rpb24gRVhURFNWX3F1ZXJ5ID0gZGF0YWJhc2UudGFibGUoIkVYVERTViIpLmluZGV4KCIwMCIpLmJ1aWxkKCk7CiAgICBEQkNvbnRhaW5lciBFWFREU1YgPSBFWFREU1ZfcXVlcnkuZ2V0Q29udGFpbmVyKCk7CiAgICBFWFREU1Yuc2V0KCJFWENPTk8iLCBpbkNPTk8pOwogICAgRVhURFNWLnNldCgiRVhDVURUIiwgaW5DVURUKTsKICAgIEVYVERTVi5zZXQoIkVYRkFDSSIsIGluRkFDSSk7CiAgICBFWFREU1Yuc2V0KCJFWFNEU1QiLCBpblNEU1QpOwogICAgRVhURFNWLnNldCgiRVhDVU5PIiwgaW5DVU5PKTsKICAgIEVYVERTVi5zZXQoIkVYSVROTyIsIGluSVROTyk7CiAgICAKICAgIGlmIChFWFREU1ZfcXVlcnkucmVhZChFWFREU1YpKSB7CiAgICAgIG1pLmVycm9yKCJSZWNvcmQgYWxyZWFkeSBleGlzdHMiKTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIExvY2FsRGF0ZVRpbWUgZGF0ZVRpbWUgPSBMb2NhbERhdGVUaW1lLm5vdygpOwogICAgaW50IGVudHJ5RGF0ZSA9IGRhdGVUaW1lLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oInl5eXlNTWRkIikpLnRvSW50ZWdlcigpOwogICAgaW50IGVudHJ5VGltZSA9IGRhdGVUaW1lLmZvcm1hdChEYXRlVGltZUZvcm1hdHRlci5vZlBhdHRlcm4oIkhIbW1zcyIpKS50b0ludGVnZXIoKTsKICAgIGluQ0hJRCA9IHByb2dyYW0uZ2V0VXNlcigpOwogICAgaW5DSE5PID0gMTsKICAgIGluUkdEVCA9IGVudHJ5RGF0ZTsKICAgIGluUkdUTSA9IGVudHJ5VGltZTsKICAgIGluTE1EVCA9IGVudHJ5RGF0ZTsKICAgIGluTE1UTSA9IGVudHJ5VGltZTsKCiAgICBFWFREU1Yuc2V0KCJFWE9SUVQiLCBpbk9SUVQpOwogICAgRVhURFNWLnNldCgiRVhDSElEIiwgaW5DSElEKTsKICAgIEVYVERTVi5zZXQoIkVYQ0hOTyIsIGluQ0hOTyk7CiAgICBFWFREU1Yuc2V0KCJFWFJHRFQiLCBpblJHRFQpOwogICAgRVhURFNWLnNldCgiRVhSR1RNIiwgaW5SR1RNKTsKICAgIEVYVERTVi5zZXQoIkVYTE1EVCIsIGluTE1EVCk7CiAgICBFWFREU1Yuc2V0KCJFWExNVE0iLCBpbkxNVE0pOwoKICAgIEVYVERTVl9xdWVyeS5pbnNlcnQoRVhURFNWKTsKICB9CgogIGJvb2xlYW4gaXNWYWxpZElucHV0KCkgewogICAgLy9DaGVjayBDVURUCiAgICBpZiAoaW5DVURUICE9IDApIHsKICAgICAgaWYgKCF1dGlsaXR5LmNhbGwoIkRhdGVVdGlsIiwgImlzRGF0ZVZhbGlkIiwgaW5DVURULnRvU3RyaW5nKCksICJ5eXl5TU1kZCIpKSB7CiAgICAgICAgbWkuZXJyb3IoIkludmFsaWQgREFURSBpbnB1dCBmb3IgQ1VEVCIpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogICAgCiAgICAvLyBDaGVjayBGQUNJCiAgICBpZiAoIWluRkFDSS5pc0JsYW5rKCkpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrRkFDSSgpKSB7CiAgICAgICAgbWkuZXJyb3IoIkZhY2lsaXR5ICR7aW5GQUNJfSBkb2VzIG5vdCBleGlzdCIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogICAgCiAgICAvLyBDaGVjayBTRFNUCiAgICBpZiAoIWluU0RTVC5pc0JsYW5rKCkpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrU0RTVCgpKSB7CiAgICAgICAgbWkuZXJyb3IoIkRpc3RyaWN0ICR7aW5TRFNUfSBkb2VzIG5vdCBleGlzdCIpOwogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfQogICAgCiAgICAvLyBDaGVjayBDVU5PCiAgICBpZiAoIWluQ1VOTy5pc0JsYW5rKCkpIHsKICAgICAgaWYgKCF0aGlzLmNoZWNrQ1VOTygpKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgICAKICAgIC8vIENoZWNrIElUTk8KICAgIGlmICghaW5JVE5PLmlzQmxhbmsoKSkgewogICAgICBpZiAoIXRoaXMuY2hlY2tJVE5PKCkpIHsKICAgICAgICBtaS5lcnJvcigiSXRlbSBudW1iZXIgJHtpbklUTk99IGRvZXMgbm90IGV4aXN0Iik7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICB9CiAgICAKICAgIHJldHVybiB0cnVlOwogIH0KICAKICAvKioKICAgKiBWYWxpZGF0ZSBGQUNJIGZyb20gQ0ZBQ0lMCiAgICovCiAgYm9vbGVhbiBjaGVja0ZBQ0koKSB7CiAgICBEQkFjdGlvbiBDRkFDSUxfcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiQ0ZBQ0lMIikuaW5kZXgoIjAwIikuYnVpbGQoKTsKICAgIERCQ29udGFpbmVyIENGQUNJTCA9IENGQUNJTF9xdWVyeS5nZXRDb250YWluZXIoKTsKICAgIENGQUNJTC5zZXQoIkNGQ09OTyIsIGluQ09OTyk7CiAgICBDRkFDSUwuc2V0KCJDRkZBQ0kiLCBpbkZBQ0kpOwogIAogICAgaWYgKCFDRkFDSUxfcXVlcnkucmVhZChDRkFDSUwpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KICAKICAvKioKICAgKiBWYWxpZGF0ZSBTRFNUIGZyb20gQ1NZVEFCCiAgICovCiAgYm9vbGVhbiBjaGVja1NEU1QoKSB7CiAgICBEQkFjdGlvbiBDU1lUQUJfcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiQ1NZVEFCIikuaW5kZXgoIjAwIikuYnVpbGQoKTsKICAgIERCQ29udGFpbmVyIENTWVRBQiA9IENTWVRBQl9xdWVyeS5nZXRDb250YWluZXIoKTsKICAgIENTWVRBQi5zZXQoIkNUQ09OTyIsIGluQ09OTyk7CiAgICBDU1lUQUIuc2V0KCJDVERJVkkiLCAiIik7CiAgICBDU1lUQUIuc2V0KCJDVFNUQ08iLCAiU0RTVCIpOwogICAgQ1NZVEFCLnNldCgiQ1RTVEtZIiwgaW5TRFNUKTsKICAgIENTWVRBQi5zZXQoIkNUTE5DRCIsICIiKTsKICAgIAogICAgaWYgKCFDU1lUQUJfcXVlcnkucmVhZChDU1lUQUIpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KICAKICAvKioKICAgKiBWYWxpZGF0ZSBDVU5PIGZyb20gT0NVU01BCiAgICovCiAgYm9vbGVhbiBjaGVja0NVTk8oKSB7CiAgICBEQkFjdGlvbiBPQ1VTTUFfcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT0NVU01BIikuaW5kZXgoIjAwIikuYnVpbGQoKTsKICAgIERCQ29udGFpbmVyIE9DVVNNQSA9IE9DVVNNQV9xdWVyeS5nZXRDb250YWluZXIoKTsKICAgIE9DVVNNQS5zZXQoIk9LQ09OTyIsIGluQ09OTyk7CiAgICBPQ1VTTUEuc2V0KCJPS0NVTk8iLCBpbkNVTk8pOwogIAogICAgaWYgKCFPQ1VTTUFfcXVlcnkucmVhZChPQ1VTTUEpKSB7CiAgICAgIG1pLmVycm9yKCJDdXN0b21lciAke2luQ1VOT30gZG9lcyBub3QgZXhpc3QiKTsKICAgICAgcmV0dXJuIGZhbHNlOwogICAgfSBlbHNlIHsKICAgICAgaWYgKCFpblNEU1QuaXNCbGFuaygpKSB7CiAgICAgICAgRXhwcmVzc2lvbkZhY3RvcnkgT0NVU01BX2V4cCA9IGRhdGFiYXNlLmdldEV4cHJlc3Npb25GYWN0b3J5KCJPQ1VTTUEiKTsKICAgICAgICBPQ1VTTUFfZXhwID0gT0NVU01BX2V4cC5lcSgiT0tTRFNUIiwgaW5TRFNUKTsKICAgICAgICBPQ1VTTUFfcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiT0NVU01BIikuaW5kZXgoIjAwIikubWF0Y2hpbmcoT0NVU01BX2V4cCkuYnVpbGQoKTsKICAgICAgCiAgICAgICAgaWYgKCFPQ1VTTUFfcXVlcnkucmVhZChPQ1VTTUEpKSB7CiAgICAgICAgICBtaS5lcnJvcigiQ3VzdG9tZXIgJHtpbkNVTk99IGRvZXMgbm90IGJlbG9uZyB0byBEaXN0cmljdCAke2luU0RTVH0iKTsKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuIHRydWU7IAogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgfQogICAgfQogIH0KICAKICAvKioKICAgKiBWYWxpZGF0ZSBJVE5PIGZyb20gTUlUTUFTCiAgICovCiAgYm9vbGVhbiBjaGVja0lUTk8oKSB7CiAgICBEQkFjdGlvbiBNSVRNQVNfcXVlcnkgPSBkYXRhYmFzZS50YWJsZSgiTUlUTUFTIikuaW5kZXgoIjAwIikuYnVpbGQoKTsKICAgIERCQ29udGFpbmVyIE1JVE1BUyA9IE1JVE1BU19xdWVyeS5nZXRDb250YWluZXIoKTsKICAgIE1JVE1BUy5zZXQoIk1NQ09OTyIsIGluQ09OTyk7CiAgICBNSVRNQVMuc2V0KCJNTUlUTk8iLCBpbklUTk8pOwogIAogICAgaWYgKCFNSVRNQVNfcXVlcnkucmVhZChNSVRNQVMpKSB7CiAgICAgIHJldHVybiBmYWxzZTsKICAgIH0gZWxzZSB7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0KCn0="}}}